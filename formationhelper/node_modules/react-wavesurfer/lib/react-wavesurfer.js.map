{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0c868d27b291629728b9","webpack:///./src/react-wavesurfer.js","webpack:///external {\"root\":\"WaveSurfer\",\"commonjs2\":\"wavesurfer.js\",\"commonjs\":\"wavesurfer.js\",\"amd\":\"wavesurfer\"}","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external \"prop-types\"","webpack:///./node_modules/deep-assign/index.js","webpack:///./node_modules/is-obj/index.js"],"names":["EVENTS","capitaliseFirstLetter","string","split","map","part","charAt","toUpperCase","slice","join","positiveIntegerProptype","props","propName","componentName","n","undefined","parseInt","Error","resizeThrottler","resizeTimeout","setTimeout","fn","Wavesurfer","state","isReady","WaveSurfer","_wavesurfer","Object","create","_loadMediaElt","bind","_loadAudio","_seekTo","responsive","_handleResize","playing","pause","drawBuffer","pos","play","options","container","wavesurferEl","mediaElt","backend","init","on","setState","volume","setVolume","zoom","onPosChange","wavesurfer","originalArgs","formattedPos","_posToSec","forEach","propCallback","e","audioFile","audioPeaks","window","addEventListener","nextProps","newSource","seekToInNewFile","un","isPlaying","audioRate","setPlaybackRate","removeEventListener","destroy","sec","getDuration","_secToPos","autoCenter","seekAndCenter","seekTo","selectorOrElt","HTMLElement","document","querySelector","audioFileOrElt","loadMediaElement","load","Blob","File","loadBlob","childrenWithProps","children","Children","cloneElement","child","c","propTypes","bool","number","prop","oneOfType","instanceOf","array","func","element","shape","oneOf","barWidth","cursorColor","cursorWidth","dragSelection","fillParent","height","hideScrollbar","interact","loopSelection","mediaControls","minPxPerSec","normalize","pixelRatio","progressColor","scrollParent","skipLength","waveColor","CanvasGradient","defaultProps","defaultParams"],"mappings":"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","file":"react-wavesurfer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"wavesurfer.js\"), require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"wavesurfer\", \"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Wavesurfer\"] = factory(require(\"wavesurfer.js\"), require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"Wavesurfer\"] = factory(root[\"WaveSurfer\"], root[\"React\"], root[\"prop-types\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0c868d27b291629728b9","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport assign from 'deep-assign';\n\nconst EVENTS = [\n  'audioprocess',\n  'error',\n  'finish',\n  'loading',\n  'mouseup',\n  'pause',\n  'play',\n  'ready',\n  'scroll',\n  'seek',\n  'zoom'\n];\n\n/**\n * @description Capitalise the first letter of a string\n */\nfunction capitaliseFirstLetter(string) {\n  return string\n    .split('-')\n    .map(part => part.charAt(0).toUpperCase() + part.slice(1))\n    .join('');\n}\n\n/**\n * @description Throws an error if the prop is defined and not an integer or not positive\n */\nfunction positiveIntegerProptype(props, propName, componentName) {\n  const n = props[propName];\n  if (\n    n !== undefined &&\n    (typeof n !== 'number' || n !== parseInt(n, 10) || n < 0)\n  ) {\n    return new Error(`Invalid ${propName} supplied to ${componentName},\n      expected a positive integer`);\n  }\n\n  return null;\n}\n\nconst resizeThrottler = fn => () => {\n  let resizeTimeout;\n\n  if (!resizeTimeout) {\n    resizeTimeout = setTimeout(() => {\n      resizeTimeout = null;\n      fn();\n    }, 66);\n  }\n};\n\nclass Wavesurfer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isReady: false\n    };\n\n    if (typeof WaveSurfer === undefined) {\n      throw new Error('WaveSurfer is undefined!');\n    }\n\n    this._wavesurfer = Object.create(WaveSurfer);\n    this._loadMediaElt = this._loadMediaElt.bind(this);\n    this._loadAudio = this._loadAudio.bind(this);\n    this._seekTo = this._seekTo.bind(this);\n\n    if (this.props.responsive) {\n      this._handleResize = resizeThrottler(() => {\n        // pause playback for resize operation\n        if (this.props.playing) {\n          this._wavesurfer.pause();\n        }\n\n        // resize the waveform\n        this._wavesurfer.drawBuffer();\n\n        // We allow resize before file isloaded, since we can get wave data from outside,\n        // so there might not be a file loaded when resizing\n        if (this.state.isReady) {\n          // restore previous position\n          this._seekTo(this.props.pos);\n        }\n\n        // restore playback\n        if (this.props.playing) {\n          this._wavesurfer.play();\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    const options = assign({}, this.props.options, {\n      container: this.wavesurferEl\n    });\n\n    // media element loading is only supported by MediaElement backend\n    if (this.props.mediaElt) {\n      options.backend = 'MediaElement';\n    }\n\n    this._wavesurfer.init(options);\n\n    // file was loaded, wave was drawn\n    this._wavesurfer.on('ready', () => {\n      this.setState({\n        isReady: true,\n        pos: this.props.pos\n      });\n\n      // set initial position\n      if (this.props.pos) {\n        this._seekTo(this.props.pos);\n      }\n\n      // set initial volume\n      if (this.props.volume) {\n        this._wavesurfer.setVolume(this.props.volume);\n      }\n\n      // set initial playing state\n      if (this.props.playing) {\n        this._wavesurfer.play();\n      }\n\n      // set initial zoom\n      if (this.props.zoom) {\n        this._wavesurfer.zoom(this.props.zoom);\n      }\n    });\n\n    this._wavesurfer.on('audioprocess', pos => {\n      this.setState({\n        pos\n      });\n      this.props.onPosChange({\n        wavesurfer: this._wavesurfer,\n        originalArgs: [pos]\n      });\n    });\n\n    // `audioprocess` is not fired when seeking, so we have to plug into the\n    // `seek` event and calculate the equivalent in seconds (seek event\n    // receives a position float 0-1) – See the README.md for explanation why we\n    // need this\n    this._wavesurfer.on('seek', pos => {\n      if (this.state.isReady) {\n        const formattedPos = this._posToSec(pos);\n        this.setState({\n          formattedPos\n        });\n        this.props.onPosChange({\n          wavesurfer: this._wavesurfer,\n          originalArgs: [formattedPos]\n        });\n      }\n    });\n\n    // hook up events to callback handlers passed in as props\n    EVENTS.forEach(e => {\n      const propCallback = this.props[`on${capitaliseFirstLetter(e)}`];\n      const wavesurfer = this._wavesurfer;\n      if (propCallback) {\n        this._wavesurfer.on(e, (...originalArgs) => {\n          propCallback({\n            wavesurfer,\n            originalArgs\n          });\n        });\n      }\n    });\n\n    // if audioFile prop, load file\n    if (this.props.audioFile) {\n      this._loadAudio(this.props.audioFile, this.props.audioPeaks);\n    }\n\n    // if mediaElt prop, load media Element\n    if (this.props.mediaElt) {\n      this._loadMediaElt(this.props.mediaElt, this.props.audioPeaks);\n    }\n\n    if (this.props.responsive) {\n      window.addEventListener('resize', this._handleResize, false);\n    }\n  }\n\n  // update wavesurfer rendering manually\n  componentWillReceiveProps(nextProps) {\n    let newSource = false;\n    let seekToInNewFile;\n\n    // update audioFile\n    if (this.props.audioFile !== nextProps.audioFile) {\n      this.setState({\n        isReady: false\n      });\n      this._loadAudio(nextProps.audioFile, nextProps.audioPeaks);\n      newSource = true;\n    }\n\n    // update mediaElt\n    if (this.props.mediaElt !== nextProps.mediaElt) {\n      this.setState({\n        isReady: false\n      });\n      this._loadMediaElt(nextProps.mediaElt, nextProps.audioPeaks);\n      newSource = true;\n    }\n\n    // update peaks\n    if (this.props.audioPeaks !== nextProps.audioPeaks) {\n      if (nextProps.mediaElt) {\n        this._loadMediaElt(nextProps.mediaElt, nextProps.audioPeaks);\n      } else {\n        this._loadAudio(nextProps.audioFile, nextProps.audioPeaks);\n      }\n    }\n\n    // update position\n    if (\n      nextProps.pos !== undefined &&\n      this.state.isReady &&\n      nextProps.pos !== this.props.pos &&\n      nextProps.pos !== this.state.pos\n    ) {\n      if (newSource) {\n        seekToInNewFile = this._wavesurfer.on('ready', () => {\n          this._seekTo(nextProps.pos);\n          seekToInNewFile.un();\n        });\n      } else {\n        this._seekTo(nextProps.pos);\n      }\n    }\n\n    // update playing state\n    if (\n      !newSource &&\n      (this.props.playing !== nextProps.playing ||\n        this._wavesurfer.isPlaying() !== nextProps.playing)\n    ) {\n      if (nextProps.playing) {\n        this._wavesurfer.play();\n      } else {\n        this._wavesurfer.pause();\n      }\n    }\n\n    // update volume\n    if (this.props.volume !== nextProps.volume) {\n      this._wavesurfer.setVolume(nextProps.volume);\n    }\n\n    // update volume\n    if (this.props.zoom !== nextProps.zoom) {\n      this._wavesurfer.zoom(nextProps.zoom);\n    }\n\n    // update audioRate\n    if (this.props.options.audioRate !== nextProps.options.audioRate) {\n      this._wavesurfer.setPlaybackRate(nextProps.options.audioRate);\n    }\n\n    // turn responsive on\n    if (\n      nextProps.responsive &&\n      this.props.responsive !== nextProps.responsive\n    ) {\n      window.addEventListener('resize', this._handleResize, false);\n    }\n\n    // turn responsive off\n    if (\n      !nextProps.responsive &&\n      this.props.responsive !== nextProps.responsive\n    ) {\n      window.removeEventListener('resize', this._handleResize);\n    }\n  }\n\n  componentWillUnmount() {\n    // remove listeners\n    EVENTS.forEach(e => {\n      this._wavesurfer.un(e);\n    });\n\n    // destroy wavesurfer instance\n    this._wavesurfer.destroy();\n\n    if (this.props.responsive) {\n      window.removeEventListener('resize', this._handleResize);\n    }\n  }\n\n  // receives seconds and transforms this to the position as a float 0-1\n  _secToPos(sec) {\n    return 1 / this._wavesurfer.getDuration() * sec;\n  }\n\n  // receives position as a float 0-1 and transforms this to seconds\n  _posToSec(pos) {\n    return pos * this._wavesurfer.getDuration();\n  }\n\n  // pos is in seconds, the 0-1 proportional position we calculate here …\n  _seekTo(sec) {\n    const pos = this._secToPos(sec);\n    if (this.props.options.autoCenter) {\n      this._wavesurfer.seekAndCenter(pos);\n    } else {\n      this._wavesurfer.seekTo(pos);\n    }\n  }\n\n  // load a media element selector or HTML element\n  // if selector, get the HTML element for it\n  // and pass to _loadAudio\n  _loadMediaElt(selectorOrElt, audioPeaks) {\n    if (selectorOrElt instanceof window.HTMLElement) {\n      this._loadAudio(selectorOrElt, audioPeaks);\n    } else {\n      if (!window.document.querySelector(selectorOrElt)) {\n        throw new Error('Media Element not found!');\n      }\n\n      this._loadAudio(window.document.querySelector(selectorOrElt), audioPeaks);\n    }\n  }\n\n  // pass audio data to wavesurfer\n  _loadAudio(audioFileOrElt, audioPeaks) {\n    if (audioFileOrElt instanceof window.HTMLElement) {\n      // media element\n      this._wavesurfer.loadMediaElement(audioFileOrElt, audioPeaks);\n    } else if (typeof audioFileOrElt === 'string') {\n      // bog-standard string is handled by load method and ajax call\n      this._wavesurfer.load(audioFileOrElt, audioPeaks);\n    } else if (\n      audioFileOrElt instanceof window.Blob ||\n      audioFileOrElt instanceof window.File\n    ) {\n      // blob or file is loaded with loadBlob method\n      this._wavesurfer.loadBlob(audioFileOrElt, audioPeaks);\n    } else {\n      throw new Error(`Wavesurfer._loadAudio expects prop audioFile\n        to be either HTMLElement, string or file/blob`);\n    }\n  }\n\n  render() {\n    const childrenWithProps = this.props.children\n      ? React.Children.map(this.props.children, child =>\n          React.cloneElement(child, {\n            wavesurfer: this._wavesurfer,\n            isReady: this.state.isReady\n          })\n        )\n      : false;\n    return (\n      <div>\n        <div\n          ref={c => {\n            this.wavesurferEl = c;\n          }}\n        />\n        {childrenWithProps}\n      </div>\n    );\n  }\n}\n\nWavesurfer.propTypes = {\n  playing: PropTypes.bool,\n  pos: PropTypes.number,\n  audioFile: (props, propName, componentName) => {\n    const prop = props[propName];\n    if (\n      prop &&\n      typeof prop !== 'string' &&\n      !(prop instanceof window.Blob) &&\n      !(prop instanceof window.File)\n    ) {\n      return new Error(`Invalid ${propName} supplied to ${componentName}\n        expected either string or file/blob`);\n    }\n\n    return null;\n  },\n\n  mediaElt: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.instanceOf(window.HTMLElement)\n  ]),\n  audioPeaks: PropTypes.array,\n  volume: PropTypes.number,\n  zoom: PropTypes.number,\n  responsive: PropTypes.bool,\n  onPosChange: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.array]),\n  options: PropTypes.shape({\n    audioRate: PropTypes.number,\n    backend: PropTypes.oneOf(['WebAudio', 'MediaElement']),\n    barWidth: (props, propName, componentName) => {\n      const prop = props[propName];\n      if (prop !== undefined && typeof prop !== 'number') {\n        return new Error(`Invalid ${propName} supplied to ${componentName}\n          expected either undefined or number`);\n      }\n\n      return null;\n    },\n\n    cursorColor: PropTypes.string,\n    cursorWidth: positiveIntegerProptype,\n    dragSelection: PropTypes.bool,\n    fillParent: PropTypes.bool,\n    height: positiveIntegerProptype,\n    hideScrollbar: PropTypes.bool,\n    interact: PropTypes.bool,\n    loopSelection: PropTypes.bool,\n    mediaControls: PropTypes.bool,\n    minPxPerSec: positiveIntegerProptype,\n    normalize: PropTypes.bool,\n    pixelRatio: PropTypes.number,\n    progressColor: PropTypes.string,\n    scrollParent: PropTypes.bool,\n    skipLength: PropTypes.number,\n    waveColor: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.instanceOf(window.CanvasGradient)\n    ]),\n    autoCenter: PropTypes.bool\n  })\n};\n\nWavesurfer.defaultProps = {\n  playing: false,\n  pos: 0,\n  options: WaveSurfer.defaultParams,\n  responsive: true,\n  onPosChange: () => {}\n};\n\nexport default Wavesurfer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-wavesurfer.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"WaveSurfer\",\"commonjs2\":\"wavesurfer.js\",\"commonjs\":\"wavesurfer.js\",\"amd\":\"wavesurfer\"}\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 3\n// module chunks = 0","'use strict';\nvar isObj = require('is-obj');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Sources cannot be null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction assignKey(to, from, key) {\n\tvar val = from[key];\n\n\tif (val === undefined || val === null) {\n\t\treturn;\n\t}\n\n\tif (hasOwnProperty.call(to, key)) {\n\t\tif (to[key] === undefined || to[key] === null) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object (' + key + ')');\n\t\t}\n\t}\n\n\tif (!hasOwnProperty.call(to, key) || !isObj(val)) {\n\t\tto[key] = val;\n\t} else {\n\t\tto[key] = assign(Object(to[key]), from[key]);\n\t}\n}\n\nfunction assign(to, from) {\n\tif (to === from) {\n\t\treturn to;\n\t}\n\n\tfrom = Object(from);\n\n\tfor (var key in from) {\n\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\tassignKey(to, from, key);\n\t\t}\n\t}\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tvar symbols = Object.getOwnPropertySymbols(from);\n\n\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\tassignKey(to, from, symbols[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n}\n\nmodule.exports = function deepAssign(target) {\n\ttarget = toObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tassign(target, arguments[s]);\n\t}\n\n\treturn target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/deep-assign/index.js\n// module id = 4\n// module chunks = 0","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-obj/index.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}