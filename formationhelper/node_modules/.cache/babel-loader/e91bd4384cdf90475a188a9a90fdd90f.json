{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cheny\\\\WebstormProjects\\\\FormationHelper\\\\formationhelper\\\\src\\\\Pages\\\\Components\\\\MusicPlayer\\\\Player.js\";\nimport React, { Component } from 'react';\nimport Info from \"./Info\";\nimport Progress from \"./Progress\";\nimport Controls from \"./Controls\";\nimport LoadMusic from \"./LoadMusic\";\nimport { getAudioBuffer, getContext } from './Utils';\nimport { Box, Paper } from '@material-ui/core';\nimport Wave from \"./Wave\";\nexport default class Player extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      audio: null,\n      buffer: null,\n      context: null,\n      musicName: null,\n      MusicLength: 0,\n      duration: 0\n    };\n\n    this.handleFile = async event => {\n      const files = event.target.files;\n      const file = window.URL.createObjectURL(files[0]);\n      this.getFile(file);\n      const audio = new Audio(file);\n      console.log(file);\n      this.setState({\n        audio\n      });\n      const musicName = files[0]['name'];\n      await this.setState({\n        musicName\n      });\n      console.log(files[0]['name']);\n    };\n\n    this.getFile = async (path = 'audio/test.mp3') => {\n      const buffer = await getAudioBuffer(path, this.state.context);\n      this.setState({\n        buffer\n      });\n      const duration = buffer['duration'];\n      this.setState({\n        duration\n      });\n      console.log(buffer);\n    };\n\n    this.onMusicProgress = () => {// Implement this\n    };\n  }\n\n  componentWillMount() {\n    const context = getContext();\n    this.setState({\n      context\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"player\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Info, {\n      className: \"info\",\n      onChange: this.onMusicNameChange,\n      musicName: this.state.musicName,\n      artist: this.state.artist,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"progress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Wave, {\n      audio: this.state.audio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(Progress, {\n      buffer: this.state.buffer,\n      duraiton: this.state.duration,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"controls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Controls, {\n      audio: this.state.audio,\n      onMusicProgress: this.onMusicProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(LoadMusic, {\n      className: \"loadMusic\",\n      onChange: this.handleFile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\cheny\\WebstormProjects\\FormationHelper\\formationhelper\\src\\Pages\\Components\\MusicPlayer\\Player.js"],"names":["React","Component","Info","Progress","Controls","LoadMusic","getAudioBuffer","getContext","Box","Paper","Wave","Player","state","audio","buffer","context","musicName","MusicLength","duration","handleFile","event","files","target","file","window","URL","createObjectURL","getFile","Audio","console","log","setState","path","onMusicProgress","componentWillMount","render","onMusicNameChange","artist"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Info from \"./Info\";\r\nimport Progress from \"./Progress\";\r\nimport Controls from \"./Controls\";\r\nimport LoadMusic from \"./LoadMusic\";\r\nimport { getAudioBuffer, getContext } from './Utils';\r\nimport {Box, Paper} from '@material-ui/core';\r\nimport Wave from \"./Wave\";\r\n\r\nexport default class Player extends Component{\r\n    state = {\r\n        audio: null,\r\n        buffer: null,\r\n        context: null,\r\n        musicName: null,\r\n        MusicLength: 0,\r\n        duration: 0,\r\n    };\r\n\r\n\r\n    componentWillMount() {\r\n        const context = getContext();\r\n        this.setState({\r\n            context\r\n        });\r\n    }\r\n\r\n    handleFile = async event =>{\r\n        const files = event.target.files;\r\n        const file = window.URL.createObjectURL(files[0]);\r\n        this.getFile(file);\r\n        const audio = new Audio(file);\r\n        console.log(file);\r\n        this.setState({audio});\r\n        const musicName = files[0]['name'];\r\n        await this.setState({musicName});\r\n        console.log(files[0]['name']);\r\n\r\n    };\r\n\r\n    getFile = async (path = 'audio/test.mp3') => {\r\n        const buffer = await getAudioBuffer(path, this.state.context);\r\n        this.setState({ buffer });\r\n        const duration = buffer['duration'];\r\n        this.setState({duration});\r\n        console.log(buffer);\r\n    };\r\n\r\n\r\n    onMusicProgress = ()=>{\r\n        // Implement this\r\n\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div className =\"player\">\r\n                <Info className = \"info\"\r\n                    onChange={this.onMusicNameChange}\r\n                    musicName={this.state.musicName}\r\n                    artist={this.state.artist}\r\n                />\r\n                <div className = \"progress\">\r\n                    <Wave audio={this.state.audio} />\r\n                    <Progress buffer={this.state.buffer} duraiton={this.state.duration} />\r\n                </div>\r\n                <div className = \"controls\">\r\n                    <Controls  audio={this.state.audio} onMusicProgress={this.onMusicProgress}/>\r\n                    {/*<Time />*/}\r\n                    <LoadMusic className = \"loadMusic\" onChange={this.handleFile}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}