{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(\"WaveSurfer\", [], t) : \"object\" == typeof exports ? exports.WaveSurfer = t() : e.WaveSurfer = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function r(n) {\n      if (t[n]) return t[n].exports;\n      var i = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports;\n    }\n\n    return r.m = e, r.c = t, r.d = function (e, t, n) {\n      r.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (e, t) {\n      if (1 & t && (e = r(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) r.d(n, i, function (t) {\n        return e[t];\n      }.bind(null, i));\n      return n;\n    }, r.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return r.d(t, \"a\", t), t;\n    }, r.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, r.p = \"\", r(r.s = 6);\n  }([function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), Object.defineProperty(t, \"ajax\", {\n      enumerable: !0,\n      get: function () {\n        return n.default;\n      }\n    }), Object.defineProperty(t, \"getId\", {\n      enumerable: !0,\n      get: function () {\n        return i.default;\n      }\n    }), Object.defineProperty(t, \"max\", {\n      enumerable: !0,\n      get: function () {\n        return a.default;\n      }\n    }), Object.defineProperty(t, \"min\", {\n      enumerable: !0,\n      get: function () {\n        return s.default;\n      }\n    }), Object.defineProperty(t, \"Observer\", {\n      enumerable: !0,\n      get: function () {\n        return o.default;\n      }\n    }), Object.defineProperty(t, \"extend\", {\n      enumerable: !0,\n      get: function () {\n        return u.default;\n      }\n    }), Object.defineProperty(t, \"style\", {\n      enumerable: !0,\n      get: function () {\n        return l.default;\n      }\n    }), Object.defineProperty(t, \"requestAnimationFrame\", {\n      enumerable: !0,\n      get: function () {\n        return c.default;\n      }\n    }), Object.defineProperty(t, \"frame\", {\n      enumerable: !0,\n      get: function () {\n        return h.default;\n      }\n    }), Object.defineProperty(t, \"debounce\", {\n      enumerable: !0,\n      get: function () {\n        return f.default;\n      }\n    }), Object.defineProperty(t, \"preventClick\", {\n      enumerable: !0,\n      get: function () {\n        return d.default;\n      }\n    }), Object.defineProperty(t, \"fetchFile\", {\n      enumerable: !0,\n      get: function () {\n        return p.default;\n      }\n    });\n    var n = v(r(7)),\n        i = v(r(2)),\n        a = v(r(8)),\n        s = v(r(9)),\n        o = v(r(1)),\n        u = v(r(10)),\n        l = v(r(3)),\n        c = v(r(4)),\n        h = v(r(11)),\n        f = v(r(12)),\n        d = v(r(13)),\n        p = v(r(14));\n\n    function v(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n\n    var i = function () {\n      function e() {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.handlers = null;\n      }\n\n      var t, r, i;\n      return t = e, (r = [{\n        key: \"on\",\n        value: function (e, t) {\n          var r = this;\n          this.handlers || (this.handlers = {});\n          var n = this.handlers[e];\n          return n || (n = this.handlers[e] = []), n.push(t), {\n            name: e,\n            callback: t,\n            un: function (e, t) {\n              return r.un(e, t);\n            }\n          };\n        }\n      }, {\n        key: \"un\",\n        value: function (e, t) {\n          if (this.handlers) {\n            var r,\n                n = this.handlers[e];\n            if (n) if (t) for (r = n.length - 1; r >= 0; r--) n[r] == t && n.splice(r, 1);else n.length = 0;\n          }\n        }\n      }, {\n        key: \"unAll\",\n        value: function () {\n          this.handlers = null;\n        }\n      }, {\n        key: \"once\",\n        value: function (e, t) {\n          var r = this;\n          return this.on(e, function n() {\n            for (var i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];\n\n            t.apply(r, a), setTimeout(function () {\n              r.un(e, n);\n            }, 0);\n          });\n        }\n      }, {\n        key: \"fireEvent\",\n        value: function (e) {\n          for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) r[n - 1] = arguments[n];\n\n          if (this.handlers) {\n            var i = this.handlers[e];\n            i && i.forEach(function (e) {\n              e.apply(void 0, r);\n            });\n          }\n        }\n      }]) && n(t.prototype, r), i && n(t, i), e;\n    }();\n\n    t.default = i, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      void 0 === e && (e = \"wavesurfer_\");\n      return e + Math.random().toString(32).substring(2);\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e, t) {\n      return Object.keys(t).forEach(function (r) {\n        e.style[r] !== t[r] && (e.style[r] = t[r]);\n      }), e;\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n\n    var n = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e, t) {\n      return setTimeout(e, 1e3 / 60);\n    }).bind(window);\n\n    t.default = n, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n\n    var n = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) if (Object.prototype.hasOwnProperty.call(e, r)) {\n        var n = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};\n        n.get || n.set ? Object.defineProperty(t, r, n) : t[r] = e[r];\n      }\n      return t.default = e, t;\n    }(r(0));\n\n    function i(e) {\n      return (i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function a(e, t, r) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: r,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = r, e;\n    }\n\n    function s(e, t) {\n      return !t || \"object\" !== i(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function o(e) {\n      return (o = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function u(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    function l(e, t, r) {\n      return t && u(e.prototype, t), r && u(e, r), e;\n    }\n\n    function c(e, t) {\n      return (c = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var h = \"playing\",\n        f = \"paused\",\n        d = \"finished\",\n        p = function (e) {\n      function t(e) {\n        var r, n, i;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (i = s(this, o(t).call(this))).audioContext = null, i.offlineAudioContext = null, i.stateBehaviors = (a(r = {}, h, {\n          init: function () {\n            this.addOnAudioProcess();\n          },\n          getPlayedPercents: function () {\n            var e = this.getDuration();\n            return this.getCurrentTime() / e || 0;\n          },\n          getCurrentTime: function () {\n            return this.startPosition + this.getPlayedTime();\n          }\n        }), a(r, f, {\n          init: function () {\n            this.removeOnAudioProcess();\n          },\n          getPlayedPercents: function () {\n            var e = this.getDuration();\n            return this.getCurrentTime() / e || 0;\n          },\n          getCurrentTime: function () {\n            return this.startPosition;\n          }\n        }), a(r, d, {\n          init: function () {\n            this.removeOnAudioProcess(), this.fireEvent(\"finish\");\n          },\n          getPlayedPercents: function () {\n            return 1;\n          },\n          getCurrentTime: function () {\n            return this.getDuration();\n          }\n        }), r), i.params = e, i.ac = e.audioContext || (i.supportsWebAudio() ? i.getAudioContext() : {}), i.lastPlay = i.ac.currentTime, i.startPosition = 0, i.scheduledPause = null, i.states = (a(n = {}, h, Object.create(i.stateBehaviors[h])), a(n, f, Object.create(i.stateBehaviors[f])), a(n, d, Object.create(i.stateBehaviors[d])), n), i.analyser = null, i.buffer = null, i.filters = [], i.gainNode = null, i.mergedPeaks = null, i.offlineAc = null, i.peaks = null, i.playbackRate = 1, i.analyser = null, i.scriptNode = null, i.source = null, i.splitPeaks = [], i.state = null, i.explicitDuration = e.duration, i;\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && c(e, t);\n      }(t, n.Observer), l(t, [{\n        key: \"supportsWebAudio\",\n        value: function () {\n          return !(!window.AudioContext && !window.webkitAudioContext);\n        }\n      }, {\n        key: \"getAudioContext\",\n        value: function () {\n          return window.WaveSurferAudioContext || (window.WaveSurferAudioContext = new (window.AudioContext || window.webkitAudioContext)()), window.WaveSurferAudioContext;\n        }\n      }, {\n        key: \"getOfflineAudioContext\",\n        value: function (e) {\n          return window.WaveSurferOfflineAudioContext || (window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 2, e)), window.WaveSurferOfflineAudioContext;\n        }\n      }]), l(t, [{\n        key: \"init\",\n        value: function () {\n          this.createVolumeNode(), this.createScriptNode(), this.createAnalyserNode(), this.setState(f), this.setPlaybackRate(this.params.audioRate), this.setLength(0);\n        }\n      }, {\n        key: \"disconnectFilters\",\n        value: function () {\n          this.filters && (this.filters.forEach(function (e) {\n            e && e.disconnect();\n          }), this.filters = null, this.analyser.connect(this.gainNode));\n        }\n      }, {\n        key: \"setState\",\n        value: function (e) {\n          this.state !== this.states[e] && (this.state = this.states[e], this.state.init.call(this));\n        }\n      }, {\n        key: \"setFilter\",\n        value: function () {\n          for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];\n\n          this.setFilters(t);\n        }\n      }, {\n        key: \"setFilters\",\n        value: function (e) {\n          this.disconnectFilters(), e && e.length && (this.filters = e, this.analyser.disconnect(), e.reduce(function (e, t) {\n            return e.connect(t), t;\n          }, this.analyser).connect(this.gainNode));\n        }\n      }, {\n        key: \"createScriptNode\",\n        value: function () {\n          this.params.audioScriptProcessor ? this.scriptNode = this.params.audioScriptProcessor : this.ac.createScriptProcessor ? this.scriptNode = this.ac.createScriptProcessor(t.scriptBufferSize) : this.scriptNode = this.ac.createJavaScriptNode(t.scriptBufferSize), this.scriptNode.connect(this.ac.destination);\n        }\n      }, {\n        key: \"addOnAudioProcess\",\n        value: function () {\n          var e = this;\n\n          this.scriptNode.onaudioprocess = function () {\n            var t = e.getCurrentTime();\n            t >= e.getDuration() ? (e.setState(d), e.fireEvent(\"pause\")) : t >= e.scheduledPause ? e.pause() : e.state === e.states[h] && e.fireEvent(\"audioprocess\", t);\n          };\n        }\n      }, {\n        key: \"removeOnAudioProcess\",\n        value: function () {\n          this.scriptNode.onaudioprocess = function () {};\n        }\n      }, {\n        key: \"createAnalyserNode\",\n        value: function () {\n          this.analyser = this.ac.createAnalyser(), this.analyser.connect(this.gainNode);\n        }\n      }, {\n        key: \"createVolumeNode\",\n        value: function () {\n          this.ac.createGain ? this.gainNode = this.ac.createGain() : this.gainNode = this.ac.createGainNode(), this.gainNode.connect(this.ac.destination);\n        }\n      }, {\n        key: \"setSinkId\",\n        value: function (e) {\n          if (e) {\n            var t = new window.Audio();\n            if (!t.setSinkId) return Promise.reject(new Error(\"setSinkId is not supported in your browser\"));\n            t.autoplay = !0;\n            var r = this.ac.createMediaStreamDestination();\n            return this.gainNode.disconnect(), this.gainNode.connect(r), t.srcObject = r.stream, t.setSinkId(e);\n          }\n\n          return Promise.reject(new Error(\"Invalid deviceId: \" + e));\n        }\n      }, {\n        key: \"setVolume\",\n        value: function (e) {\n          this.gainNode.gain.setValueAtTime(e, this.ac.currentTime);\n        }\n      }, {\n        key: \"getVolume\",\n        value: function () {\n          return this.gainNode.gain.value;\n        }\n      }, {\n        key: \"decodeArrayBuffer\",\n        value: function (e, t, r) {\n          this.offlineAc || (this.offlineAc = this.getOfflineAudioContext(this.ac && this.ac.sampleRate ? this.ac.sampleRate : 44100)), this.offlineAc.decodeAudioData(e, function (e) {\n            return t(e);\n          }, r);\n        }\n      }, {\n        key: \"setPeaks\",\n        value: function (e, t) {\n          null != t && (this.explicitDuration = t), this.peaks = e;\n        }\n      }, {\n        key: \"setLength\",\n        value: function (e) {\n          if (!this.mergedPeaks || e != 2 * this.mergedPeaks.length - 1 + 2) {\n            this.splitPeaks = [], this.mergedPeaks = [];\n            var t,\n                r = this.buffer ? this.buffer.numberOfChannels : 1;\n\n            for (t = 0; t < r; t++) this.splitPeaks[t] = [], this.splitPeaks[t][2 * (e - 1)] = 0, this.splitPeaks[t][2 * (e - 1) + 1] = 0;\n\n            this.mergedPeaks[2 * (e - 1)] = 0, this.mergedPeaks[2 * (e - 1) + 1] = 0;\n          }\n        }\n      }, {\n        key: \"getPeaks\",\n        value: function (e, t, r) {\n          if (this.peaks) return this.peaks;\n          if (!this.buffer) return [];\n          if (t = t || 0, r = r || e - 1, this.setLength(e), !this.buffer) return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n\n          if (!this.buffer.length) {\n            var n = this.createBuffer(1, 4096, this.sampleRate);\n            this.buffer = n.buffer;\n          }\n\n          var i,\n              a = this.buffer.length / e,\n              s = ~~(a / 10) || 1,\n              o = this.buffer.numberOfChannels;\n\n          for (i = 0; i < o; i++) {\n            var u = this.splitPeaks[i],\n                l = this.buffer.getChannelData(i),\n                c = void 0;\n\n            for (c = t; c <= r; c++) {\n              var h = ~~(c * a),\n                  f = ~~(h + a),\n                  d = 0,\n                  p = 0,\n                  v = void 0;\n\n              for (v = h; v < f; v += s) {\n                var y = l[v];\n                y > p && (p = y), y < d && (d = y);\n              }\n\n              u[2 * c] = p, u[2 * c + 1] = d, (0 == i || p > this.mergedPeaks[2 * c]) && (this.mergedPeaks[2 * c] = p), (0 == i || d < this.mergedPeaks[2 * c + 1]) && (this.mergedPeaks[2 * c + 1] = d);\n            }\n          }\n\n          return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n        }\n      }, {\n        key: \"getPlayedPercents\",\n        value: function () {\n          return this.state.getPlayedPercents.call(this);\n        }\n      }, {\n        key: \"disconnectSource\",\n        value: function () {\n          this.source && this.source.disconnect();\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.isPaused() || this.pause(), this.unAll(), this.buffer = null, this.disconnectFilters(), this.disconnectSource(), this.gainNode.disconnect(), this.scriptNode.disconnect(), this.analyser.disconnect(), this.params.closeAudioContext && (\"function\" == typeof this.ac.close && \"closed\" != this.ac.state && this.ac.close(), this.ac = null, this.params.audioContext ? this.params.audioContext = null : window.WaveSurferAudioContext = null, window.WaveSurferOfflineAudioContext = null);\n        }\n      }, {\n        key: \"load\",\n        value: function (e) {\n          this.startPosition = 0, this.lastPlay = this.ac.currentTime, this.buffer = e, this.createSource();\n        }\n      }, {\n        key: \"createSource\",\n        value: function () {\n          this.disconnectSource(), this.source = this.ac.createBufferSource(), this.source.start = this.source.start || this.source.noteGrainOn, this.source.stop = this.source.stop || this.source.noteOff, this.source.playbackRate.setValueAtTime(this.playbackRate, this.ac.currentTime), this.source.buffer = this.buffer, this.source.connect(this.analyser);\n        }\n      }, {\n        key: \"isPaused\",\n        value: function () {\n          return this.state !== this.states[h];\n        }\n      }, {\n        key: \"getDuration\",\n        value: function () {\n          return this.explicitDuration ? this.explicitDuration : this.buffer ? this.buffer.duration : 0;\n        }\n      }, {\n        key: \"seekTo\",\n        value: function (e, t) {\n          if (this.buffer) return this.scheduledPause = null, null == e && (e = this.getCurrentTime()) >= this.getDuration() && (e = 0), null == t && (t = this.getDuration()), this.startPosition = e, this.lastPlay = this.ac.currentTime, this.state === this.states[d] && this.setState(f), {\n            start: e,\n            end: t\n          };\n        }\n      }, {\n        key: \"getPlayedTime\",\n        value: function () {\n          return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n        }\n      }, {\n        key: \"play\",\n        value: function (e, t) {\n          if (this.buffer) {\n            this.createSource();\n            var r = this.seekTo(e, t);\n            e = r.start, t = r.end, this.scheduledPause = t, this.source.start(0, e, t - e), \"suspended\" == this.ac.state && this.ac.resume && this.ac.resume(), this.setState(h), this.fireEvent(\"play\");\n          }\n        }\n      }, {\n        key: \"pause\",\n        value: function () {\n          this.scheduledPause = null, this.startPosition += this.getPlayedTime(), this.source && this.source.stop(0), this.setState(f), this.fireEvent(\"pause\");\n        }\n      }, {\n        key: \"getCurrentTime\",\n        value: function () {\n          return this.state.getCurrentTime.call(this);\n        }\n      }, {\n        key: \"getPlaybackRate\",\n        value: function () {\n          return this.playbackRate;\n        }\n      }, {\n        key: \"setPlaybackRate\",\n        value: function (e) {\n          e = e || 1, this.isPaused() ? this.playbackRate = e : (this.pause(), this.playbackRate = e, this.play());\n        }\n      }]), t;\n    }();\n\n    t.default = p, p.scriptBufferSize = 256, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n\n    var n = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) if (Object.prototype.hasOwnProperty.call(e, r)) {\n        var n = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};\n        n.get || n.set ? Object.defineProperty(t, r, n) : t[r] = e[r];\n      }\n      return t.default = e, t;\n    }(r(0)),\n        i = u(r(15)),\n        a = u(r(5)),\n        s = u(r(18)),\n        o = u(r(19));\n\n    function u(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    function l(e) {\n      return (l = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function c(e, t) {\n      return !t || \"object\" !== l(t) && \"function\" != typeof t ? f(e) : t;\n    }\n\n    function h(e) {\n      return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function f(e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    }\n\n    function d(e, t) {\n      return (d = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    function p(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function v(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    function y(e, t, r) {\n      return t && v(e.prototype, t), r && v(e, r), e;\n    }\n\n    var m = function (e) {\n      function t(e) {\n        var r;\n        if (p(this, t), (r = c(this, h(t).call(this))).defaultParams = {\n          audioContext: null,\n          audioScriptProcessor: null,\n          audioRate: 1,\n          autoCenter: !0,\n          backend: \"WebAudio\",\n          backgroundColor: null,\n          barHeight: 1,\n          barGap: null,\n          container: null,\n          cursorColor: \"#333\",\n          cursorWidth: 1,\n          dragSelection: !0,\n          duration: null,\n          fillParent: !0,\n          forceDecode: !1,\n          height: 128,\n          hideScrollbar: !1,\n          interact: !0,\n          loopSelection: !0,\n          maxCanvasWidth: 4e3,\n          mediaContainer: null,\n          mediaControls: !1,\n          mediaType: \"audio\",\n          minPxPerSec: 20,\n          normalize: !1,\n          partialRender: !1,\n          pixelRatio: window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n          plugins: [],\n          progressColor: \"#555\",\n          removeMediaElementOnDestroy: !0,\n          renderer: i.default,\n          responsive: !1,\n          rtl: !1,\n          scrollParent: !1,\n          skipLength: 2,\n          splitChannels: !1,\n          waveColor: \"#999\",\n          xhr: {}\n        }, r.backends = {\n          MediaElement: s.default,\n          WebAudio: a.default\n        }, r.util = n, r.params = n.extend({}, r.defaultParams, e), r.container = \"string\" == typeof e.container ? document.querySelector(r.params.container) : r.params.container, !r.container) throw new Error(\"Container element not found\");\n        if (null == r.params.mediaContainer ? r.mediaContainer = r.container : \"string\" == typeof r.params.mediaContainer ? r.mediaContainer = document.querySelector(r.params.mediaContainer) : r.mediaContainer = r.params.mediaContainer, !r.mediaContainer) throw new Error(\"Media Container element not found\");\n        if (r.params.maxCanvasWidth <= 1) throw new Error(\"maxCanvasWidth must be greater than 1\");\n        if (r.params.maxCanvasWidth % 2 == 1) throw new Error(\"maxCanvasWidth must be an even number\");\n        if (!0 === r.params.rtl && n.style(r.container, {\n          transform: \"rotateY(180deg)\"\n        }), r.params.backgroundColor && r.setBackgroundColor(r.params.backgroundColor), r.savedVolume = 0, r.isMuted = !1, r.tmpEvents = [], r.currentRequest = null, r.arraybuffer = null, r.drawer = null, r.backend = null, r.peakCache = null, \"function\" != typeof r.params.renderer) throw new Error(\"Renderer parameter is invalid\");\n        r.Drawer = r.params.renderer, r.Backend = r.backends[r.params.backend], r.initialisedPluginList = {}, r.isDestroyed = !1, r.isReady = !1;\n        var o = 0;\n        return r._onResize = n.debounce(function () {\n          o == r.drawer.wrapper.clientWidth || r.params.scrollParent || (o = r.drawer.wrapper.clientWidth, r.drawer.fireEvent(\"redraw\"));\n        }, \"number\" == typeof r.params.responsive ? r.params.responsive : 100), c(r, f(r));\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && d(e, t);\n      }(t, n.Observer), y(t, null, [{\n        key: \"create\",\n        value: function (e) {\n          return new t(e).init();\n        }\n      }]), y(t, [{\n        key: \"init\",\n        value: function () {\n          return this.registerPlugins(this.params.plugins), this.createDrawer(), this.createBackend(), this.createPeakCache(), this;\n        }\n      }, {\n        key: \"registerPlugins\",\n        value: function (e) {\n          var t = this;\n          return e.forEach(function (e) {\n            return t.addPlugin(e);\n          }), e.forEach(function (e) {\n            e.deferInit || t.initPlugin(e.name);\n          }), this.fireEvent(\"plugins-registered\", e), this;\n        }\n      }, {\n        key: \"getActivePlugins\",\n        value: function () {\n          return this.initialisedPluginList;\n        }\n      }, {\n        key: \"addPlugin\",\n        value: function (e) {\n          var t = this;\n          if (!e.name) throw new Error(\"Plugin does not have a name!\");\n          if (!e.instance) throw new Error(\"Plugin \".concat(e.name, \" does not have an instance property!\"));\n          e.staticProps && Object.keys(e.staticProps).forEach(function (r) {\n            t[r] = e.staticProps[r];\n          });\n          var r = e.instance;\n          return Object.getOwnPropertyNames(n.Observer.prototype).forEach(function (e) {\n            r.prototype[e] = n.Observer.prototype[e];\n          }), this[e.name] = new r(e.params || {}, this), this.fireEvent(\"plugin-added\", e.name), this;\n        }\n      }, {\n        key: \"initPlugin\",\n        value: function (e) {\n          if (!this[e]) throw new Error(\"Plugin \".concat(e, \" has not been added yet!\"));\n          return this.initialisedPluginList[e] && this.destroyPlugin(e), this[e].init(), this.initialisedPluginList[e] = !0, this.fireEvent(\"plugin-initialised\", e), this;\n        }\n      }, {\n        key: \"destroyPlugin\",\n        value: function (e) {\n          if (!this[e]) throw new Error(\"Plugin \".concat(e, \" has not been added yet and cannot be destroyed!\"));\n          if (!this.initialisedPluginList[e]) throw new Error(\"Plugin \".concat(e, \" is not active and cannot be destroyed!\"));\n          if (\"function\" != typeof this[e].destroy) throw new Error(\"Plugin \".concat(e, \" does not have a destroy function!\"));\n          return this[e].destroy(), delete this.initialisedPluginList[e], this.fireEvent(\"plugin-destroyed\", e), this;\n        }\n      }, {\n        key: \"destroyAllPlugins\",\n        value: function () {\n          var e = this;\n          Object.keys(this.initialisedPluginList).forEach(function (t) {\n            return e.destroyPlugin(t);\n          });\n        }\n      }, {\n        key: \"createDrawer\",\n        value: function () {\n          var e = this;\n          this.drawer = new this.Drawer(this.container, this.params), this.drawer.init(), this.fireEvent(\"drawer-created\", this.drawer), !1 !== this.params.responsive && (window.addEventListener(\"resize\", this._onResize, !0), window.addEventListener(\"orientationchange\", this._onResize, !0)), this.drawer.on(\"redraw\", function () {\n            e.drawBuffer(), e.drawer.progress(e.backend.getPlayedPercents());\n          }), this.drawer.on(\"click\", function (t, r) {\n            setTimeout(function () {\n              return e.seekTo(r);\n            }, 0);\n          }), this.drawer.on(\"scroll\", function (t) {\n            e.params.partialRender && e.drawBuffer(), e.fireEvent(\"scroll\", t);\n          });\n        }\n      }, {\n        key: \"createBackend\",\n        value: function () {\n          var e = this;\n          this.backend && this.backend.destroy(), \"AudioElement\" == this.params.backend && (this.params.backend = \"MediaElement\"), \"WebAudio\" != this.params.backend || this.Backend.prototype.supportsWebAudio.call(null) || (this.params.backend = \"MediaElement\"), this.backend = new this.Backend(this.params), this.backend.init(), this.fireEvent(\"backend-created\", this.backend), this.backend.on(\"finish\", function () {\n            e.drawer.progress(e.backend.getPlayedPercents()), e.fireEvent(\"finish\");\n          }), this.backend.on(\"play\", function () {\n            return e.fireEvent(\"play\");\n          }), this.backend.on(\"pause\", function () {\n            return e.fireEvent(\"pause\");\n          }), this.backend.on(\"audioprocess\", function (t) {\n            e.drawer.progress(e.backend.getPlayedPercents()), e.fireEvent(\"audioprocess\", t);\n          }), \"MediaElement\" === this.params.backend && (this.backend.on(\"seek\", function () {\n            e.drawer.progress(e.backend.getPlayedPercents());\n          }), this.backend.on(\"volume\", function () {\n            var t = e.getVolume();\n            e.fireEvent(\"volume\", t), e.backend.isMuted !== e.isMuted && (e.isMuted = e.backend.isMuted, e.fireEvent(\"mute\", e.isMuted));\n          }));\n        }\n      }, {\n        key: \"createPeakCache\",\n        value: function () {\n          this.params.partialRender && (this.peakCache = new o.default());\n        }\n      }, {\n        key: \"getDuration\",\n        value: function () {\n          return this.backend.getDuration();\n        }\n      }, {\n        key: \"getCurrentTime\",\n        value: function () {\n          return this.backend.getCurrentTime();\n        }\n      }, {\n        key: \"setCurrentTime\",\n        value: function (e) {\n          e >= this.getDuration() ? this.seekTo(1) : this.seekTo(e / this.getDuration());\n        }\n      }, {\n        key: \"play\",\n        value: function (e, t) {\n          var r = this;\n          return this.fireEvent(\"interaction\", function () {\n            return r.play(e, t);\n          }), this.backend.play(e, t);\n        }\n      }, {\n        key: \"pause\",\n        value: function () {\n          if (!this.backend.isPaused()) return this.backend.pause();\n        }\n      }, {\n        key: \"playPause\",\n        value: function () {\n          return this.backend.isPaused() ? this.play() : this.pause();\n        }\n      }, {\n        key: \"isPlaying\",\n        value: function () {\n          return !this.backend.isPaused();\n        }\n      }, {\n        key: \"skipBackward\",\n        value: function (e) {\n          this.skip(-e || -this.params.skipLength);\n        }\n      }, {\n        key: \"skipForward\",\n        value: function (e) {\n          this.skip(e || this.params.skipLength);\n        }\n      }, {\n        key: \"skip\",\n        value: function (e) {\n          var t = this.getDuration() || 1,\n              r = this.getCurrentTime() || 0;\n          r = Math.max(0, Math.min(t, r + (e || 0))), this.seekAndCenter(r / t);\n        }\n      }, {\n        key: \"seekAndCenter\",\n        value: function (e) {\n          this.seekTo(e), this.drawer.recenter(e);\n        }\n      }, {\n        key: \"seekTo\",\n        value: function (e) {\n          var t = this;\n          if (\"number\" != typeof e || !isFinite(e) || e < 0 || e > 1) throw new Error(\"Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!\");\n          this.fireEvent(\"interaction\", function () {\n            return t.seekTo(e);\n          });\n          var r = this.backend.isPaused();\n          r || this.backend.pause();\n          var n = this.params.scrollParent;\n          this.params.scrollParent = !1, this.backend.seekTo(e * this.getDuration()), this.drawer.progress(e), r || this.backend.play(), this.params.scrollParent = n, this.fireEvent(\"seek\", e);\n        }\n      }, {\n        key: \"stop\",\n        value: function () {\n          this.pause(), this.seekTo(0), this.drawer.progress(0);\n        }\n      }, {\n        key: \"setSinkId\",\n        value: function (e) {\n          return this.backend.setSinkId(e);\n        }\n      }, {\n        key: \"setVolume\",\n        value: function (e) {\n          this.backend.setVolume(e), this.fireEvent(\"volume\", e);\n        }\n      }, {\n        key: \"getVolume\",\n        value: function () {\n          return this.backend.getVolume();\n        }\n      }, {\n        key: \"setPlaybackRate\",\n        value: function (e) {\n          this.backend.setPlaybackRate(e);\n        }\n      }, {\n        key: \"getPlaybackRate\",\n        value: function () {\n          return this.backend.getPlaybackRate();\n        }\n      }, {\n        key: \"toggleMute\",\n        value: function () {\n          this.setMute(!this.isMuted);\n        }\n      }, {\n        key: \"setMute\",\n        value: function (e) {\n          e !== this.isMuted ? (e ? (this.savedVolume = this.backend.getVolume(), this.backend.setVolume(0), this.isMuted = !0, this.fireEvent(\"volume\", 0)) : (this.backend.setVolume(this.savedVolume), this.isMuted = !1, this.fireEvent(\"volume\", this.savedVolume)), this.fireEvent(\"mute\", this.isMuted)) : this.fireEvent(\"mute\", this.isMuted);\n        }\n      }, {\n        key: \"getMute\",\n        value: function () {\n          return this.isMuted;\n        }\n      }, {\n        key: \"getFilters\",\n        value: function () {\n          return this.backend.filters || [];\n        }\n      }, {\n        key: \"toggleScroll\",\n        value: function () {\n          this.params.scrollParent = !this.params.scrollParent, this.drawBuffer();\n        }\n      }, {\n        key: \"toggleInteraction\",\n        value: function () {\n          this.params.interact = !this.params.interact;\n        }\n      }, {\n        key: \"getWaveColor\",\n        value: function () {\n          return this.params.waveColor;\n        }\n      }, {\n        key: \"setWaveColor\",\n        value: function (e) {\n          this.params.waveColor = e, this.drawBuffer();\n        }\n      }, {\n        key: \"getProgressColor\",\n        value: function () {\n          return this.params.progressColor;\n        }\n      }, {\n        key: \"setProgressColor\",\n        value: function (e) {\n          this.params.progressColor = e, this.drawBuffer();\n        }\n      }, {\n        key: \"getBackgroundColor\",\n        value: function () {\n          return this.params.backgroundColor;\n        }\n      }, {\n        key: \"setBackgroundColor\",\n        value: function (e) {\n          this.params.backgroundColor = e, n.style(this.container, {\n            background: this.params.backgroundColor\n          });\n        }\n      }, {\n        key: \"getCursorColor\",\n        value: function () {\n          return this.params.cursorColor;\n        }\n      }, {\n        key: \"setCursorColor\",\n        value: function (e) {\n          this.params.cursorColor = e, this.drawer.updateCursor();\n        }\n      }, {\n        key: \"getHeight\",\n        value: function () {\n          return this.params.height;\n        }\n      }, {\n        key: \"setHeight\",\n        value: function (e) {\n          this.params.height = e, this.drawer.setHeight(e * this.params.pixelRatio), this.drawBuffer();\n        }\n      }, {\n        key: \"drawBuffer\",\n        value: function () {\n          var e,\n              t = Math.round(this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio),\n              r = this.drawer.getWidth(),\n              n = t,\n              i = 0,\n              a = Math.max(i + r, n);\n\n          if (this.params.fillParent && (!this.params.scrollParent || t < r) && (i = 0, a = n = r), this.params.partialRender) {\n            var s,\n                o = this.peakCache.addRangeToPeakCache(n, i, a);\n\n            for (s = 0; s < o.length; s++) e = this.backend.getPeaks(n, o[s][0], o[s][1]), this.drawer.drawPeaks(e, n, o[s][0], o[s][1]);\n          } else e = this.backend.getPeaks(n, i, a), this.drawer.drawPeaks(e, n, i, a);\n\n          this.fireEvent(\"redraw\", e, n);\n        }\n      }, {\n        key: \"zoom\",\n        value: function (e) {\n          e ? (this.params.minPxPerSec = e, this.params.scrollParent = !0) : (this.params.minPxPerSec = this.defaultParams.minPxPerSec, this.params.scrollParent = !1), this.drawBuffer(), this.drawer.progress(this.backend.getPlayedPercents()), this.drawer.recenter(this.getCurrentTime() / this.getDuration()), this.fireEvent(\"zoom\", e);\n        }\n      }, {\n        key: \"loadArrayBuffer\",\n        value: function (e) {\n          var t = this;\n          this.decodeArrayBuffer(e, function (e) {\n            t.isDestroyed || t.loadDecodedBuffer(e);\n          });\n        }\n      }, {\n        key: \"loadDecodedBuffer\",\n        value: function (e) {\n          this.backend.load(e), this.drawBuffer(), this.fireEvent(\"ready\"), this.isReady = !0;\n        }\n      }, {\n        key: \"loadBlob\",\n        value: function (e) {\n          var t = this,\n              r = new FileReader();\n          r.addEventListener(\"progress\", function (e) {\n            return t.onProgress(e);\n          }), r.addEventListener(\"load\", function (e) {\n            return t.loadArrayBuffer(e.target.result);\n          }), r.addEventListener(\"error\", function () {\n            return t.fireEvent(\"error\", \"Error reading file\");\n          }), r.readAsArrayBuffer(e), this.empty();\n        }\n      }, {\n        key: \"load\",\n        value: function (e, t, r, n) {\n          if (this.empty(), r) {\n            var i = {\n              \"Preload is not 'auto', 'none' or 'metadata'\": -1 === [\"auto\", \"metadata\", \"none\"].indexOf(r),\n              \"Peaks are not provided\": !t,\n              \"Backend is not of type MediaElement\": \"MediaElement\" !== this.params.backend,\n              \"Url is not of type string\": \"string\" != typeof e\n            },\n                a = Object.keys(i).filter(function (e) {\n              return i[e];\n            });\n            a.length && (console.warn(\"Preload parameter of wavesurfer.load will be ignored because:\\n\\t- \" + a.join(\"\\n\\t- \")), r = null);\n          }\n\n          switch (this.params.backend) {\n            case \"WebAudio\":\n              return this.loadBuffer(e, t, n);\n\n            case \"MediaElement\":\n              return this.loadMediaElement(e, t, r, n);\n          }\n        }\n      }, {\n        key: \"loadBuffer\",\n        value: function (e, t, r) {\n          var n = this,\n              i = function (t) {\n            return t && n.tmpEvents.push(n.once(\"ready\", t)), n.getArrayBuffer(e, function (e) {\n              return n.loadArrayBuffer(e);\n            });\n          };\n\n          if (!t) return i();\n          this.backend.setPeaks(t, r), this.drawBuffer(), this.tmpEvents.push(this.once(\"interaction\", i));\n        }\n      }, {\n        key: \"loadMediaElement\",\n        value: function (e, t, r, n) {\n          var i = this,\n              a = e;\n          if (\"string\" == typeof e) this.backend.load(a, this.mediaContainer, t, r);else {\n            var s = e;\n            this.backend.loadElt(s, t), a = s.src;\n          }\n          this.tmpEvents.push(this.backend.once(\"canplay\", function () {\n            i.drawBuffer(), i.fireEvent(\"ready\"), i.isReady = !0;\n          }), this.backend.once(\"error\", function (e) {\n            return i.fireEvent(\"error\", e);\n          })), t && this.backend.setPeaks(t, n), t && !this.params.forceDecode || !this.backend.supportsWebAudio() || this.getArrayBuffer(a, function (e) {\n            i.decodeArrayBuffer(e, function (e) {\n              i.backend.buffer = e, i.backend.setPeaks(null), i.drawBuffer(), i.fireEvent(\"waveform-ready\");\n            });\n          });\n        }\n      }, {\n        key: \"decodeArrayBuffer\",\n        value: function (e, t) {\n          var r = this;\n          this.arraybuffer = e, this.backend.decodeArrayBuffer(e, function (n) {\n            r.isDestroyed || r.arraybuffer != e || (t(n), r.arraybuffer = null);\n          }, function () {\n            return r.fireEvent(\"error\", \"Error decoding audiobuffer\");\n          });\n        }\n      }, {\n        key: \"getArrayBuffer\",\n        value: function (e, t) {\n          var r = this,\n              i = n.extend({\n            url: e,\n            responseType: \"arraybuffer\"\n          }, this.params.xhr),\n              a = n.fetchFile(i);\n          return this.currentRequest = a, this.tmpEvents.push(a.on(\"progress\", function (e) {\n            r.onProgress(e);\n          }), a.on(\"success\", function (e) {\n            t(e), r.currentRequest = null;\n          }), a.on(\"error\", function (e) {\n            r.fireEvent(\"error\", \"fetch error: \" + e.message), r.currentRequest = null;\n          })), a;\n        }\n      }, {\n        key: \"onProgress\",\n        value: function (e) {\n          var t;\n          t = e.lengthComputable ? e.loaded / e.total : e.loaded / (e.loaded + 1e6), this.fireEvent(\"loading\", Math.round(100 * t), e.target);\n        }\n      }, {\n        key: \"exportPCM\",\n        value: function (e, t, r, n) {\n          e = e || 1024, n = n || 0, t = t || 1e4, r = r || !1;\n          var i = this.backend.getPeaks(e, n),\n              a = [].map.call(i, function (e) {\n            return Math.round(e * t) / t;\n          }),\n              s = JSON.stringify(a);\n          return r || window.open(\"data:application/json;charset=utf-8,\" + encodeURIComponent(s)), s;\n        }\n      }, {\n        key: \"exportImage\",\n        value: function (e, t, r) {\n          return e || (e = \"image/png\"), t || (t = 1), r || (r = \"dataURL\"), this.drawer.getImage(e, t, r);\n        }\n      }, {\n        key: \"cancelAjax\",\n        value: function () {\n          this.currentRequest && this.currentRequest.controller && (this.currentRequest.controller.abort(), this.currentRequest = null);\n        }\n      }, {\n        key: \"clearTmpEvents\",\n        value: function () {\n          this.tmpEvents.forEach(function (e) {\n            return e.un();\n          });\n        }\n      }, {\n        key: \"empty\",\n        value: function () {\n          this.backend.isPaused() || (this.stop(), this.backend.disconnectSource()), this.isReady = !1, this.cancelAjax(), this.clearTmpEvents(), this.drawer.progress(0), this.drawer.setWidth(0), this.drawer.drawPeaks({\n            length: this.drawer.getWidth()\n          }, 0);\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.destroyAllPlugins(), this.fireEvent(\"destroy\"), this.cancelAjax(), this.clearTmpEvents(), this.unAll(), !1 !== this.params.responsive && (window.removeEventListener(\"resize\", this._onResize, !0), window.removeEventListener(\"orientationchange\", this._onResize, !0)), this.backend.destroy(), this.drawer.destroy(), this.isDestroyed = !0, this.isReady = !1, this.arraybuffer = null;\n        }\n      }]), t;\n    }();\n\n    t.default = m, m.VERSION = \"3.0.0\", m.util = n, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      var t = new i.default(),\n          r = new XMLHttpRequest(),\n          n = !1;\n      r.open(e.method || \"GET\", e.url, !0), r.responseType = e.responseType || \"json\", e.xhr && (e.xhr.requestHeaders && e.xhr.requestHeaders.forEach(function (e) {\n        r.setRequestHeader(e.key, e.value);\n      }), e.xhr.withCredentials && (r.withCredentials = !0));\n      return r.addEventListener(\"progress\", function (e) {\n        t.fireEvent(\"progress\", e), e.lengthComputable && e.loaded == e.total && (n = !0);\n      }), r.addEventListener(\"load\", function (e) {\n        n || t.fireEvent(\"progress\", e), t.fireEvent(\"load\", e), 200 == r.status || 206 == r.status ? t.fireEvent(\"success\", r.response, e) : t.fireEvent(\"error\", e);\n      }), r.addEventListener(\"error\", function (e) {\n        return t.fireEvent(\"error\", e);\n      }), r.send(), t.xhr = r, t;\n    };\n    var n,\n        i = (n = r(1)) && n.__esModule ? n : {\n      default: n\n    };\n    e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      var t = -1 / 0;\n      return Object.keys(e).forEach(function (r) {\n        e[r] > t && (t = e[r]);\n      }), t;\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      var t = Number(1 / 0);\n      return Object.keys(e).forEach(function (r) {\n        e[r] < t && (t = e[r]);\n      }), t;\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) r[n - 1] = arguments[n];\n\n      return r.forEach(function (t) {\n        Object.keys(t).forEach(function (r) {\n          e[r] = t[r];\n        });\n      }), e;\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      return function () {\n        for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++) r[n] = arguments[n];\n\n        return (0, i.default)(function () {\n          return e.apply(void 0, r);\n        });\n      };\n    };\n    var n,\n        i = (n = r(4)) && n.__esModule ? n : {\n      default: n\n    };\n    e.exports = t.default;\n  }, function (e, t) {\n    function r(e, t, r) {\n      var n, i, a, s, o;\n\n      function u() {\n        var l = Date.now() - s;\n        l < t && l >= 0 ? n = setTimeout(u, t - l) : (n = null, r || (o = e.apply(a, i), a = i = null));\n      }\n\n      null == t && (t = 100);\n\n      var l = function () {\n        a = this, i = arguments, s = Date.now();\n        var l = r && !n;\n        return n || (n = setTimeout(u, t)), l && (o = e.apply(a, i), a = i = null), o;\n      };\n\n      return l.clear = function () {\n        n && (clearTimeout(n), n = null);\n      }, l.flush = function () {\n        n && (o = e.apply(a, i), a = i = null, clearTimeout(n), n = null);\n      }, l;\n    }\n\n    r.debounce = r, e.exports = r;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      e.stopPropagation(), document.body.removeEventListener(\"click\", n, !0);\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      document.body.addEventListener(\"click\", n, !0);\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      if (!e) throw new Error(\"fetch options missing\");\n      if (!e.url) throw new Error(\"fetch url missing\");\n      var t = new i.default(),\n          r = new Headers(),\n          n = new Request(e.url);\n      t.controller = new AbortController(), e && e.requestHeaders && e.requestHeaders.forEach(function (e) {\n        r.append(e.key, e.value);\n      });\n      var a = e.responseType || \"json\",\n          o = {\n        method: e.method || \"GET\",\n        headers: r,\n        mode: e.mode || \"cors\",\n        credentials: e.credentials || \"same-origin\",\n        cache: e.cache || \"default\",\n        redirect: e.redirect || \"follow\",\n        referrer: e.referrer || \"client\",\n        signal: t.controller.signal\n      };\n      return fetch(n, o).then(function (e) {\n        t.response = e;\n        var r = !0;\n        e.body || (r = !1);\n        var n = e.headers.get(\"content-length\");\n        return null === n && (r = !1), r ? (t.onProgress = function (e) {\n          t.fireEvent(\"progress\", e);\n        }, new Response(new ReadableStream(new s(t, n, e)), o)) : e;\n      }).then(function (e) {\n        var t;\n        if (e.ok) switch (a) {\n          case \"arraybuffer\":\n            return e.arrayBuffer();\n\n          case \"json\":\n            return e.json();\n\n          case \"blob\":\n            return e.blob();\n\n          case \"text\":\n            return e.text();\n\n          default:\n            t = \"Unknown responseType: \" + a;\n        }\n        throw t || (t = \"HTTP error status: \" + e.status), new Error(t);\n      }).then(function (e) {\n        t.fireEvent(\"success\", e);\n      }).catch(function (e) {\n        t.fireEvent(\"error\", e);\n      }), t.fetchRequest = n, t;\n    };\n    var n,\n        i = (n = r(1)) && n.__esModule ? n : {\n      default: n\n    };\n\n    function a(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    var s = function () {\n      function e(t, r, n) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.instance = t, this.instance._reader = n.body.getReader(), this.total = parseInt(r, 10), this.loaded = 0;\n      }\n\n      var t, r, n;\n      return t = e, (r = [{\n        key: \"start\",\n        value: function (e) {\n          var t = this;\n          !function r() {\n            t.instance._reader.read().then(function (n) {\n              var i = n.done,\n                  a = n.value;\n              if (i) return 0 === t.total && t.instance.onProgress.call(t.instance, {\n                loaded: t.loaded,\n                total: t.total,\n                lengthComputable: !1\n              }), void e.close();\n              t.loaded += a.byteLength, t.instance.onProgress.call(t.instance, {\n                loaded: t.loaded,\n                total: t.total,\n                lengthComputable: !(0 === t.total)\n              }), e.enqueue(a), r();\n            }).catch(function (t) {\n              e.error(t);\n            });\n          }();\n        }\n      }]) && a(t.prototype, r), n && a(t, n), e;\n    }();\n\n    e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n\n    var n = s(r(16)),\n        i = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) if (Object.prototype.hasOwnProperty.call(e, r)) {\n        var n = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};\n        n.get || n.set ? Object.defineProperty(t, r, n) : t[r] = e[r];\n      }\n      return t.default = e, t;\n    }(r(0)),\n        a = s(r(17));\n\n    function s(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    function o(e) {\n      return (o = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function u(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    function l(e, t) {\n      return !t || \"object\" !== o(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function c(e) {\n      return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function h(e, t) {\n      return (h = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var f = function (e) {\n      function t(e, r) {\n        var n;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (n = l(this, c(t).call(this, e, r))).maxCanvasWidth = r.maxCanvasWidth, n.maxCanvasElementWidth = Math.round(r.maxCanvasWidth / r.pixelRatio), n.hasProgressCanvas = r.waveColor != r.progressColor, n.halfPixel = .5 / r.pixelRatio, n.canvases = [], n.progressWave = null, n.EntryClass = a.default, n.overlap = 2 * Math.ceil(r.pixelRatio / 2), n;\n      }\n\n      var r, s, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && h(e, t);\n      }(t, n.default), r = t, (s = [{\n        key: \"init\",\n        value: function () {\n          this.createWrapper(), this.createElements();\n        }\n      }, {\n        key: \"createElements\",\n        value: function () {\n          this.progressWave = this.wrapper.appendChild(this.style(document.createElement(\"wave\"), {\n            position: \"absolute\",\n            zIndex: 3,\n            left: 0,\n            top: 0,\n            bottom: 0,\n            overflow: \"hidden\",\n            width: \"0\",\n            display: \"none\",\n            boxSizing: \"border-box\",\n            borderRightStyle: \"solid\",\n            pointerEvents: \"none\"\n          })), this.addCanvas(), this.updateCursor();\n        }\n      }, {\n        key: \"updateCursor\",\n        value: function () {\n          this.style(this.progressWave, {\n            borderRightWidth: this.params.cursorWidth + \"px\",\n            borderRightColor: this.params.cursorColor\n          });\n        }\n      }, {\n        key: \"updateSize\",\n        value: function () {\n          for (var e = this, t = Math.round(this.width / this.params.pixelRatio), r = Math.ceil(t / (this.maxCanvasElementWidth + this.overlap)); this.canvases.length < r;) this.addCanvas();\n\n          for (; this.canvases.length > r;) this.removeCanvas();\n\n          var n = this.maxCanvasWidth + this.overlap,\n              i = this.canvases.length - 1;\n          this.canvases.forEach(function (t, r) {\n            r == i && (n = e.width - e.maxCanvasWidth * i), e.updateDimensions(t, n, e.height), t.clearWave();\n          });\n        }\n      }, {\n        key: \"addCanvas\",\n        value: function () {\n          var e = new this.EntryClass();\n          e.hasProgressCanvas = this.hasProgressCanvas, e.halfPixel = this.halfPixel;\n          var t = this.maxCanvasElementWidth * this.canvases.length;\n          e.initWave(this.wrapper.appendChild(this.style(document.createElement(\"canvas\"), {\n            position: \"absolute\",\n            zIndex: 2,\n            left: t + \"px\",\n            top: 0,\n            bottom: 0,\n            height: \"100%\",\n            pointerEvents: \"none\"\n          }))), this.hasProgressCanvas && e.initProgress(this.progressWave.appendChild(this.style(document.createElement(\"canvas\"), {\n            position: \"absolute\",\n            left: t + \"px\",\n            top: 0,\n            bottom: 0,\n            height: \"100%\"\n          }))), this.canvases.push(e);\n        }\n      }, {\n        key: \"removeCanvas\",\n        value: function () {\n          var e = this.canvases[this.canvases.length - 1];\n          e.wave.parentElement.removeChild(e.wave), this.hasProgressCanvas && e.progress.parentElement.removeChild(e.progress), e && (e.destroy(), e = null), this.canvases.pop();\n        }\n      }, {\n        key: \"updateDimensions\",\n        value: function (e, t, r) {\n          var n = Math.round(t / this.params.pixelRatio),\n              i = Math.round(this.width / this.params.pixelRatio);\n          e.updateDimensions(n, i, t, r), this.style(this.progressWave, {\n            display: \"block\"\n          });\n        }\n      }, {\n        key: \"clearWave\",\n        value: function () {\n          this.canvases.forEach(function (e) {\n            return e.clearWave();\n          });\n        }\n      }, {\n        key: \"drawBars\",\n        value: function (e, t, r, n) {\n          var i = this;\n          return this.prepareDraw(e, t, r, n, function (e) {\n            var t = e.absmax,\n                a = e.hasMinVals,\n                s = (e.height, e.offsetY),\n                o = e.halfH,\n                u = e.peaks;\n            if (void 0 !== r) for (var l = a ? 2 : 1, c = u.length / l, h = i.params.barWidth * i.params.pixelRatio, f = h + (null === i.params.barGap ? Math.max(i.params.pixelRatio, ~~(h / 2)) : Math.max(i.params.pixelRatio, i.params.barGap * i.params.pixelRatio)), d = c / i.width, p = n, v = r; v < p; v += f) {\n              var y = u[Math.floor(v * d * l)] || 0,\n                  m = Math.round(y / t * o);\n              i.fillRect(v + i.halfPixel, o - m + s, h + i.halfPixel, 2 * m);\n            }\n          });\n        }\n      }, {\n        key: \"drawWave\",\n        value: function (e, t, r, n) {\n          var i = this;\n          return this.prepareDraw(e, t, r, n, function (e) {\n            var t = e.absmax,\n                a = e.hasMinVals,\n                s = (e.height, e.offsetY),\n                o = e.halfH,\n                u = e.peaks;\n\n            if (!a) {\n              for (var l = [], c = u.length, h = 0; h < c; h++) l[2 * h] = u[h], l[2 * h + 1] = -u[h];\n\n              u = l;\n            }\n\n            void 0 !== r && i.drawLine(u, t, o, s, r, n), i.fillRect(0, o + s - i.halfPixel, i.width, i.halfPixel);\n          });\n        }\n      }, {\n        key: \"drawLine\",\n        value: function (e, t, r, n, i, a) {\n          var s = this;\n          this.canvases.forEach(function (o) {\n            s.setFillStyles(o), o.drawLines(e, t, r, n, i, a);\n          });\n        }\n      }, {\n        key: \"fillRect\",\n        value: function (e, t, r, n) {\n          for (var i = Math.floor(e / this.maxCanvasWidth), a = Math.min(Math.ceil((e + r) / this.maxCanvasWidth) + 1, this.canvases.length), s = i; s < a; s++) {\n            var o = this.canvases[s],\n                u = s * this.maxCanvasWidth,\n                l = {\n              x1: Math.max(e, s * this.maxCanvasWidth),\n              y1: t,\n              x2: Math.min(e + r, s * this.maxCanvasWidth + o.wave.width),\n              y2: t + n\n            };\n            l.x1 < l.x2 && (this.setFillStyles(o), o.fillRects(l.x1 - u, l.y1, l.x2 - l.x1, l.y2 - l.y1));\n          }\n        }\n      }, {\n        key: \"prepareDraw\",\n        value: function (e, t, r, n, a) {\n          var s = this;\n          return i.frame(function () {\n            if (e[0] instanceof Array) {\n              var o = e;\n              if (s.params.splitChannels) return s.setHeight(o.length * s.params.height * s.params.pixelRatio), o.forEach(function (e, t) {\n                return s.prepareDraw(e, t, r, n, a);\n              });\n              e = o[0];\n            }\n\n            var u = 1 / s.params.barHeight;\n\n            if (s.params.normalize) {\n              var l = i.max(e),\n                  c = i.min(e);\n              u = -c > l ? -c : l;\n            }\n\n            var h = [].some.call(e, function (e) {\n              return e < 0;\n            }),\n                f = s.params.height * s.params.pixelRatio;\n            return a({\n              absmax: u,\n              hasMinVals: h,\n              height: f,\n              offsetY: f * t || 0,\n              halfH: f / 2,\n              peaks: e\n            });\n          })();\n        }\n      }, {\n        key: \"setFillStyles\",\n        value: function (e) {\n          e.setFillStyles(this.params.waveColor, this.params.progressColor);\n        }\n      }, {\n        key: \"getImage\",\n        value: function (e, t, r) {\n          if (\"blob\" === r) return Promise.all(this.canvases.map(function (n) {\n            return n.getImage(e, t, r);\n          }));\n\n          if (\"dataURL\" === r) {\n            var n = this.canvases.map(function (n) {\n              return n.getImage(e, t, r);\n            });\n            return n.length > 1 ? n : n[0];\n          }\n        }\n      }, {\n        key: \"updateProgress\",\n        value: function (e) {\n          this.style(this.progressWave, {\n            width: e + \"px\"\n          });\n        }\n      }]) && u(r.prototype, s), o && u(r, o), t;\n    }();\n\n    t.default = f, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n\n    var n = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) if (Object.prototype.hasOwnProperty.call(e, r)) {\n        var n = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};\n        n.get || n.set ? Object.defineProperty(t, r, n) : t[r] = e[r];\n      }\n      return t.default = e, t;\n    }(r(0));\n\n    function i(e) {\n      return (i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function a(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    function s(e, t) {\n      return !t || \"object\" !== i(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function o(e) {\n      return (o = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function u(e, t) {\n      return (u = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var l = function (e) {\n      function t(e, r) {\n        var n;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (n = s(this, o(t).call(this))).container = e, n.params = r, n.width = 0, n.height = r.height * n.params.pixelRatio, n.lastPos = 0, n.wrapper = null, n;\n      }\n\n      var r, i, l;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && u(e, t);\n      }(t, n.Observer), r = t, (i = [{\n        key: \"style\",\n        value: function (e, t) {\n          return n.style(e, t);\n        }\n      }, {\n        key: \"createWrapper\",\n        value: function () {\n          this.wrapper = this.container.appendChild(document.createElement(\"wave\")), this.style(this.wrapper, {\n            display: \"block\",\n            position: \"relative\",\n            userSelect: \"none\",\n            webkitUserSelect: \"none\",\n            height: this.params.height + \"px\"\n          }), (this.params.fillParent || this.params.scrollParent) && this.style(this.wrapper, {\n            width: \"100%\",\n            overflowX: this.params.hideScrollbar ? \"hidden\" : \"auto\",\n            overflowY: \"hidden\"\n          }), this.setupWrapperEvents();\n        }\n      }, {\n        key: \"handleEvent\",\n        value: function (e, t) {\n          !t && e.preventDefault();\n          var r,\n              n = e.targetTouches ? e.targetTouches[0].clientX : e.clientX,\n              i = this.wrapper.getBoundingClientRect(),\n              a = this.width,\n              s = this.getWidth();\n          return !this.params.fillParent && a < s ? (r = (this.params.rtl ? i.right - n : n - i.left) * (this.params.pixelRatio / a) || 0) > 1 && (r = 1) : r = ((this.params.rtl ? i.right - n : n - i.left) + this.wrapper.scrollLeft) / this.wrapper.scrollWidth || 0, r;\n        }\n      }, {\n        key: \"setupWrapperEvents\",\n        value: function () {\n          var e = this;\n          this.wrapper.addEventListener(\"click\", function (t) {\n            var r = e.wrapper.offsetHeight - e.wrapper.clientHeight;\n\n            if (0 != r) {\n              var n = e.wrapper.getBoundingClientRect();\n              if (t.clientY >= n.bottom - r) return;\n            }\n\n            e.params.interact && e.fireEvent(\"click\", t, e.handleEvent(t));\n          }), this.wrapper.addEventListener(\"scroll\", function (t) {\n            return e.fireEvent(\"scroll\", t);\n          });\n        }\n      }, {\n        key: \"drawPeaks\",\n        value: function (e, t, r, n) {\n          this.setWidth(t) || this.clearWave(), this.params.barWidth ? this.drawBars(e, 0, r, n) : this.drawWave(e, 0, r, n);\n        }\n      }, {\n        key: \"resetScroll\",\n        value: function () {\n          null !== this.wrapper && (this.wrapper.scrollLeft = 0);\n        }\n      }, {\n        key: \"recenter\",\n        value: function (e) {\n          var t = this.wrapper.scrollWidth * e;\n          this.recenterOnPosition(t, !0);\n        }\n      }, {\n        key: \"recenterOnPosition\",\n        value: function (e, t) {\n          var r = this.wrapper.scrollLeft,\n              n = ~~(this.wrapper.clientWidth / 2),\n              i = this.wrapper.scrollWidth - this.wrapper.clientWidth,\n              a = e - n,\n              s = a - r;\n\n          if (0 != i) {\n            if (!t && -n <= s && s < n) {\n              a = r + (s = Math.max(-5, Math.min(5, s)));\n            }\n\n            (a = Math.max(0, Math.min(i, a))) != r && (this.wrapper.scrollLeft = a);\n          }\n        }\n      }, {\n        key: \"getScrollX\",\n        value: function () {\n          var e = 0;\n\n          if (this.wrapper) {\n            var t = this.params.pixelRatio;\n\n            if (e = Math.round(this.wrapper.scrollLeft * t), this.params.scrollParent) {\n              var r = ~~(this.wrapper.scrollWidth * t - this.getWidth());\n              e = Math.min(r, Math.max(0, e));\n            }\n          }\n\n          return e;\n        }\n      }, {\n        key: \"getWidth\",\n        value: function () {\n          return Math.round(this.container.clientWidth * this.params.pixelRatio);\n        }\n      }, {\n        key: \"setWidth\",\n        value: function (e) {\n          return this.width != e && (this.width = e, this.params.fillParent || this.params.scrollParent ? this.style(this.wrapper, {\n            width: \"\"\n          }) : this.style(this.wrapper, {\n            width: ~~(this.width / this.params.pixelRatio) + \"px\"\n          }), this.updateSize(), !0);\n        }\n      }, {\n        key: \"setHeight\",\n        value: function (e) {\n          return e != this.height && (this.height = e, this.style(this.wrapper, {\n            height: ~~(this.height / this.params.pixelRatio) + \"px\"\n          }), this.updateSize(), !0);\n        }\n      }, {\n        key: \"progress\",\n        value: function (e) {\n          var t = 1 / this.params.pixelRatio,\n              r = Math.round(e * this.width) * t;\n\n          if (r < this.lastPos || r - this.lastPos >= t) {\n            if (this.lastPos = r, this.params.scrollParent && this.params.autoCenter) {\n              var n = ~~(this.wrapper.scrollWidth * e);\n              this.recenterOnPosition(n);\n            }\n\n            this.updateProgress(r);\n          }\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.unAll(), this.wrapper && (this.wrapper.parentNode == this.container && this.container.removeChild(this.wrapper), this.wrapper = null);\n        }\n      }, {\n        key: \"updateCursor\",\n        value: function () {}\n      }, {\n        key: \"updateSize\",\n        value: function () {}\n      }, {\n        key: \"drawBars\",\n        value: function (e, t, r, n) {}\n      }, {\n        key: \"drawWave\",\n        value: function (e, t, r, n) {}\n      }, {\n        key: \"clearWave\",\n        value: function () {}\n      }, {\n        key: \"updateProgress\",\n        value: function (e) {}\n      }]) && a(r.prototype, i), l && a(r, l), t;\n    }();\n\n    t.default = l, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n    var n = a(r(3)),\n        i = a(r(2));\n\n    function a(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    function s(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    var o = function () {\n      function e() {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.wave = null, this.waveCtx = null, this.progress = null, this.progressCtx = null, this.start = 0, this.end = 1, this.id = (0, i.default)(this.constructor.name.toLowerCase() + \"_\");\n      }\n\n      var t, r, a;\n      return t = e, (r = [{\n        key: \"initWave\",\n        value: function (e) {\n          this.wave = e, this.waveCtx = this.wave.getContext(\"2d\");\n        }\n      }, {\n        key: \"initProgress\",\n        value: function (e) {\n          this.progress = e, this.progressCtx = this.progress.getContext(\"2d\");\n        }\n      }, {\n        key: \"updateDimensions\",\n        value: function (e, t, r, i) {\n          this.start = this.wave.offsetLeft / t || 0, this.end = this.start + e / t, this.wave.width = r, this.wave.height = i;\n          var a = {\n            width: e + \"px\"\n          };\n          (0, n.default)(this.wave, a), this.hasProgressCanvas && (this.progress.width = r, this.progress.height = i, (0, n.default)(this.progress, a));\n        }\n      }, {\n        key: \"clearWave\",\n        value: function () {\n          this.waveCtx.clearRect(0, 0, this.waveCtx.canvas.width, this.waveCtx.canvas.height), this.hasProgressCanvas && this.progressCtx.clearRect(0, 0, this.progressCtx.canvas.width, this.progressCtx.canvas.height);\n        }\n      }, {\n        key: \"setFillStyles\",\n        value: function (e, t) {\n          this.waveCtx.fillStyle = e, this.hasProgressCanvas && (this.progressCtx.fillStyle = t);\n        }\n      }, {\n        key: \"fillRects\",\n        value: function (e, t, r, n) {\n          this.fillRectToContext(this.waveCtx, e, t, r, n), this.hasProgressCanvas && this.fillRectToContext(this.progressCtx, e, t, r, n);\n        }\n      }, {\n        key: \"fillRectToContext\",\n        value: function (e, t, r, n, i) {\n          e && e.fillRect(t, r, n, i);\n        }\n      }, {\n        key: \"drawLines\",\n        value: function (e, t, r, n, i, a) {\n          this.drawLineToContext(this.waveCtx, e, t, r, n, i, a), this.hasProgressCanvas && this.drawLineToContext(this.progressCtx, e, t, r, n, i, a);\n        }\n      }, {\n        key: \"drawLineToContext\",\n        value: function (e, t, r, n, i, a, s) {\n          if (e) {\n            var o,\n                u,\n                l,\n                c = t.length / 2,\n                h = Math.round(c * this.start),\n                f = h,\n                d = Math.round(c * this.end) + 1,\n                p = this.wave.width / (d - f - 1),\n                v = n + i,\n                y = r / n;\n\n            for (e.beginPath(), e.moveTo((f - h) * p, v), e.lineTo((f - h) * p, v - Math.round((t[2 * f] || 0) / y)), o = f; o < d; o++) u = t[2 * o] || 0, l = Math.round(u / y), e.lineTo((o - h) * p + this.halfPixel, v - l);\n\n            for (var m = d - 1; m >= f; m--) u = t[2 * m + 1] || 0, l = Math.round(u / y), e.lineTo((m - h) * p + this.halfPixel, v - l);\n\n            e.lineTo((f - h) * p, v - Math.round((t[2 * f + 1] || 0) / y)), e.closePath(), e.fill();\n          }\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.waveCtx = null, this.wave = null, this.progressCtx = null, this.progress = null;\n        }\n      }, {\n        key: \"getImage\",\n        value: function (e, t, r) {\n          var n = this;\n          return \"blob\" === r ? new Promise(function (r) {\n            n.wave.toBlob(r, e, t);\n          }) : \"dataURL\" === r ? this.wave.toDataURL(e, t) : void 0;\n        }\n      }]) && s(t.prototype, r), a && s(t, a), e;\n    }();\n\n    t.default = o, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n\n    var n,\n        i = (n = r(5)) && n.__esModule ? n : {\n      default: n\n    },\n        a = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) if (Object.prototype.hasOwnProperty.call(e, r)) {\n        var n = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};\n        n.get || n.set ? Object.defineProperty(t, r, n) : t[r] = e[r];\n      }\n      return t.default = e, t;\n    }(r(0));\n\n    function s(e) {\n      return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function o(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    function u(e, t) {\n      return !t || \"object\" !== s(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function l(e, t, r) {\n      return (l = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, r) {\n        var n = function (e, t) {\n          for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = c(e)););\n\n          return e;\n        }(e, t);\n\n        if (n) {\n          var i = Object.getOwnPropertyDescriptor(n, t);\n          return i.get ? i.get.call(r) : i.value;\n        }\n      })(e, t, r || e);\n    }\n\n    function c(e) {\n      return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function h(e, t) {\n      return (h = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var f = function (e) {\n      function t(e) {\n        var r;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (r = u(this, c(t).call(this, e))).params = e, r.media = {\n          currentTime: 0,\n          duration: 0,\n          paused: !0,\n          playbackRate: 1,\n          play: function () {},\n          pause: function () {},\n          volume: 0\n        }, r.mediaType = e.mediaType.toLowerCase(), r.elementPosition = e.elementPosition, r.peaks = null, r.playbackRate = 1, r.volume = 1, r.isMuted = !1, r.buffer = null, r.onPlayEnd = null, r;\n      }\n\n      var r, n, s;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && h(e, t);\n      }(t, i.default), r = t, (n = [{\n        key: \"init\",\n        value: function () {\n          this.setPlaybackRate(this.params.audioRate), this.createTimer();\n        }\n      }, {\n        key: \"createTimer\",\n        value: function () {\n          var e = this;\n          this.on(\"play\", function t() {\n            e.isPaused() || (e.fireEvent(\"audioprocess\", e.getCurrentTime()), a.frame(t)());\n          }), this.on(\"pause\", function () {\n            e.fireEvent(\"audioprocess\", e.getCurrentTime());\n          });\n        }\n      }, {\n        key: \"load\",\n        value: function (e, t, r, n) {\n          var i = document.createElement(this.mediaType);\n          i.controls = this.params.mediaControls, i.autoplay = this.params.autoplay || !1, i.preload = null == n ? \"auto\" : n, i.src = e, i.style.width = \"100%\";\n          var a = t.querySelector(this.mediaType);\n          a && t.removeChild(a), t.appendChild(i), this._load(i, r);\n        }\n      }, {\n        key: \"loadElt\",\n        value: function (e, t) {\n          e.controls = this.params.mediaControls, e.autoplay = this.params.autoplay || !1, this._load(e, t);\n        }\n      }, {\n        key: \"_load\",\n        value: function (e, t) {\n          var r = this;\n          \"function\" == typeof e.load && e.load(), e.addEventListener(\"error\", function () {\n            r.fireEvent(\"error\", \"Error loading media element\");\n          }), e.addEventListener(\"canplay\", function () {\n            r.fireEvent(\"canplay\");\n          }), e.addEventListener(\"ended\", function () {\n            r.fireEvent(\"finish\");\n          }), e.addEventListener(\"play\", function () {\n            r.fireEvent(\"play\");\n          }), e.addEventListener(\"pause\", function () {\n            r.fireEvent(\"pause\");\n          }), e.addEventListener(\"seeked\", function (e) {\n            r.fireEvent(\"seek\");\n          }), e.addEventListener(\"volumechange\", function (t) {\n            r.isMuted = e.muted, r.isMuted ? r.volume = 0 : r.volume = e.volume, r.fireEvent(\"volume\");\n          }), this.media = e, this.peaks = t, this.onPlayEnd = null, this.buffer = null, this.isMuted = e.muted, this.setPlaybackRate(this.playbackRate), this.setVolume(this.volume);\n        }\n      }, {\n        key: \"isPaused\",\n        value: function () {\n          return !this.media || this.media.paused;\n        }\n      }, {\n        key: \"getDuration\",\n        value: function () {\n          if (this.explicitDuration) return this.explicitDuration;\n          var e = (this.buffer || this.media).duration;\n          return e >= 1 / 0 && (e = this.media.seekable.end(0)), e;\n        }\n      }, {\n        key: \"getCurrentTime\",\n        value: function () {\n          return this.media && this.media.currentTime;\n        }\n      }, {\n        key: \"getPlayedPercents\",\n        value: function () {\n          return this.getCurrentTime() / this.getDuration() || 0;\n        }\n      }, {\n        key: \"getPlaybackRate\",\n        value: function () {\n          return this.playbackRate || this.media.playbackRate;\n        }\n      }, {\n        key: \"setPlaybackRate\",\n        value: function (e) {\n          this.playbackRate = e || 1, this.media.playbackRate = this.playbackRate;\n        }\n      }, {\n        key: \"seekTo\",\n        value: function (e) {\n          null != e && (this.media.currentTime = e), this.clearPlayEnd();\n        }\n      }, {\n        key: \"play\",\n        value: function (e, t) {\n          this.seekTo(e);\n          var r = this.media.play();\n          return t && this.setPlayEnd(t), r;\n        }\n      }, {\n        key: \"pause\",\n        value: function () {\n          var e;\n          return this.media && (e = this.media.pause()), this.clearPlayEnd(), e;\n        }\n      }, {\n        key: \"setPlayEnd\",\n        value: function (e) {\n          var t = this;\n          this._onPlayEnd = function (r) {\n            r >= e && (t.pause(), t.seekTo(e));\n          }, this.on(\"audioprocess\", this._onPlayEnd);\n        }\n      }, {\n        key: \"clearPlayEnd\",\n        value: function () {\n          this._onPlayEnd && (this.un(\"audioprocess\", this._onPlayEnd), this._onPlayEnd = null);\n        }\n      }, {\n        key: \"getPeaks\",\n        value: function (e, r, n) {\n          return this.buffer ? l(c(t.prototype), \"getPeaks\", this).call(this, e, r, n) : this.peaks || [];\n        }\n      }, {\n        key: \"setSinkId\",\n        value: function (e) {\n          return e ? this.media.setSinkId ? this.media.setSinkId(e) : Promise.reject(new Error(\"setSinkId is not supported in your browser\")) : Promise.reject(new Error(\"Invalid deviceId: \" + e));\n        }\n      }, {\n        key: \"getVolume\",\n        value: function () {\n          return this.volume;\n        }\n      }, {\n        key: \"setVolume\",\n        value: function (e) {\n          this.volume = e, this.media.volume !== this.volume && (this.media.volume = this.volume);\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.pause(), this.unAll(), this.params.removeMediaElementOnDestroy && this.media && this.media.parentNode && this.media.parentNode.removeChild(this.media), this.media = null;\n        }\n      }]) && o(r.prototype, n), s && o(r, s), t;\n    }();\n\n    t.default = f, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = void 0;\n\n    var i = function () {\n      function e() {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.clearPeakCache();\n      }\n\n      var t, r, i;\n      return t = e, (r = [{\n        key: \"clearPeakCache\",\n        value: function () {\n          this.peakCacheRanges = [], this.peakCacheLength = -1;\n        }\n      }, {\n        key: \"addRangeToPeakCache\",\n        value: function (e, t, r) {\n          e != this.peakCacheLength && (this.clearPeakCache(), this.peakCacheLength = e);\n\n          for (var n = [], i = 0; i < this.peakCacheRanges.length && this.peakCacheRanges[i] < t;) i++;\n\n          for (i % 2 == 0 && n.push(t); i < this.peakCacheRanges.length && this.peakCacheRanges[i] <= r;) n.push(this.peakCacheRanges[i]), i++;\n\n          i % 2 == 0 && n.push(r), n = n.filter(function (e, t, r) {\n            return 0 == t ? e != r[t + 1] : t == r.length - 1 ? e != r[t - 1] : e != r[t - 1] && e != r[t + 1];\n          }), this.peakCacheRanges = this.peakCacheRanges.concat(n), this.peakCacheRanges = this.peakCacheRanges.sort(function (e, t) {\n            return e - t;\n          }).filter(function (e, t, r) {\n            return 0 == t ? e != r[t + 1] : t == r.length - 1 ? e != r[t - 1] : e != r[t - 1] && e != r[t + 1];\n          });\n          var a = [];\n\n          for (i = 0; i < n.length; i += 2) a.push([n[i], n[i + 1]]);\n\n          return a;\n        }\n      }, {\n        key: \"getCacheRanges\",\n        value: function () {\n          var e,\n              t = [];\n\n          for (e = 0; e < this.peakCacheRanges.length; e += 2) t.push([this.peakCacheRanges[e], this.peakCacheRanges[e + 1]]);\n\n          return t;\n        }\n      }]) && n(t.prototype, r), i && n(t, i), e;\n    }();\n\n    t.default = i, e.exports = t.default;\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}