{"ast":null,"code":"/*!\n * wavesurfer.js 2.0.0-beta01 (Tue May 02 2017 19:46:40 GMT+0200 (CEST))\n * https://github.com/katspaugh/wavesurfer.js\n * @license CC-BY-3.0\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(\"WaveSurfer\", [], t) : \"object\" == typeof exports ? exports.WaveSurfer = t() : e.WaveSurfer = t();\n}(this, function () {\n  return function (e) {\n    function t(r) {\n      if (n[r]) return n[r].exports;\n      var i = n[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(i.exports, i, i.exports, t), i.l = !0, i.exports;\n    }\n\n    var n = {};\n    return t.m = e, t.c = n, t.i = function (e) {\n      return e;\n    }, t.d = function (e, n, r) {\n      t.o(e, n) || Object.defineProperty(e, n, {\n        configurable: !1,\n        enumerable: !0,\n        get: r\n      });\n    }, t.n = function (e) {\n      var n = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return t.d(n, \"a\", n), n;\n    }, t.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, t.p = \"localhost:8080/dist/\", t(t.s = 13);\n  }([function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(7);\n    Object.defineProperty(t, \"ajax\", {\n      enumerable: !0,\n      get: function () {\n        return r(i).default;\n      }\n    });\n    var a = n(9);\n    Object.defineProperty(t, \"getId\", {\n      enumerable: !0,\n      get: function () {\n        return r(a).default;\n      }\n    });\n    var s = n(10);\n    Object.defineProperty(t, \"max\", {\n      enumerable: !0,\n      get: function () {\n        return r(s).default;\n      }\n    });\n    var o = n(11);\n    Object.defineProperty(t, \"min\", {\n      enumerable: !0,\n      get: function () {\n        return r(o).default;\n      }\n    });\n    var u = n(2);\n    Object.defineProperty(t, \"Observer\", {\n      enumerable: !0,\n      get: function () {\n        return r(u).default;\n      }\n    });\n    var l = n(8);\n    Object.defineProperty(t, \"extend\", {\n      enumerable: !0,\n      get: function () {\n        return r(l).default;\n      }\n    });\n    var c = n(12);\n    Object.defineProperty(t, \"style\", {\n      enumerable: !0,\n      get: function () {\n        return r(c).default;\n      }\n    });\n    var h = n(14);\n    Object.defineProperty(t, \"debounce\", {\n      enumerable: !0,\n      get: function () {\n        return r(h).default;\n      }\n    });\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    function i(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function a(e, t) {\n      if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n    }\n\n    function s(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      return function (t, n, r) {\n        return n && e(t.prototype, n), r && e(t, r), t;\n      };\n    }(),\n        u = n(0),\n        l = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      return t.default = e, t;\n    }(u),\n        c = \"playing\",\n        h = \"paused\",\n        f = \"finished\",\n        d = function (e) {\n      function t(e) {\n        var n, s;\n        i(this, t);\n        var o = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));\n        return o.audioContext = null, o.offlineAudioContext = null, o.stateBehaviors = (n = {}, r(n, c, {\n          init: function () {\n            this.addOnAudioProcess();\n          },\n          getPlayedPercents: function () {\n            var e = this.getDuration();\n            return this.getCurrentTime() / e || 0;\n          },\n          getCurrentTime: function () {\n            return this.startPosition + this.getPlayedTime();\n          }\n        }), r(n, h, {\n          init: function () {\n            this.removeOnAudioProcess();\n          },\n          getPlayedPercents: function () {\n            var e = this.getDuration();\n            return this.getCurrentTime() / e || 0;\n          },\n          getCurrentTime: function () {\n            return this.startPosition;\n          }\n        }), r(n, f, {\n          init: function () {\n            this.removeOnAudioProcess(), this.fireEvent(\"finish\");\n          },\n          getPlayedPercents: function () {\n            return 1;\n          },\n          getCurrentTime: function () {\n            return this.getDuration();\n          }\n        }), n), o.params = e, o.ac = e.audioContext || o.getAudioContext(), o.lastPlay = o.ac.currentTime, o.startPosition = 0, o.scheduledPause = null, o.states = (s = {}, r(s, c, Object.create(o.stateBehaviors[c])), r(s, h, Object.create(o.stateBehaviors[h])), r(s, f, Object.create(o.stateBehaviors[f])), s), o.analyser = null, o.buffer = null, o.filters = [], o.gainNode = null, o.mergedPeaks = null, o.offlineAc = null, o.peaks = null, o.playbackRate = 1, o.analyser = null, o.scriptNode = null, o.source = null, o.splitPeaks = [], o.state = null, o;\n      }\n\n      return s(t, e), o(t, [{\n        key: \"supportsWebAudio\",\n        value: function () {\n          return !(!window.AudioContext && !window.webkitAudioContext);\n        }\n      }, {\n        key: \"getAudioContext\",\n        value: function () {\n          return window.WaveSurferAudioContext || (window.WaveSurferAudioContext = new (window.AudioContext || window.webkitAudioContext)()), window.WaveSurferAudioContext;\n        }\n      }, {\n        key: \"getOfflineAudioContext\",\n        value: function (e) {\n          return window.WaveSurferOfflineAudioContext || (window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 2, e)), window.WaveSurferOfflineAudioContext;\n        }\n      }]), o(t, [{\n        key: \"init\",\n        value: function () {\n          this.createVolumeNode(), this.createScriptNode(), this.createAnalyserNode(), this.setState(h), this.setPlaybackRate(this.params.audioRate), this.setLength(0);\n        }\n      }, {\n        key: \"disconnectFilters\",\n        value: function () {\n          this.filters && (this.filters.forEach(function (e) {\n            e && e.disconnect();\n          }), this.filters = null, this.analyser.connect(this.gainNode));\n        }\n      }, {\n        key: \"setState\",\n        value: function (e) {\n          this.state !== this.states[e] && (this.state = this.states[e], this.state.init.call(this));\n        }\n      }, {\n        key: \"setFilter\",\n        value: function () {\n          for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];\n\n          this.setFilters(t);\n        }\n      }, {\n        key: \"setFilters\",\n        value: function (e) {\n          this.disconnectFilters(), e && e.length && (this.filters = e, this.analyser.disconnect(), e.reduce(function (e, t) {\n            return e.connect(t), t;\n          }, this.analyser).connect(this.gainNode));\n        }\n      }, {\n        key: \"createScriptNode\",\n        value: function () {\n          this.ac.createScriptProcessor ? this.scriptNode = this.ac.createScriptProcessor(this.scriptBufferSize) : this.scriptNode = this.ac.createJavaScriptNode(this.scriptBufferSize), this.scriptNode.connect(this.ac.destination);\n        }\n      }, {\n        key: \"addOnAudioProcess\",\n        value: function () {\n          var e = this;\n\n          this.scriptNode.onaudioprocess = function () {\n            var t = e.getCurrentTime();\n            t >= e.getDuration() ? (e.setState(f), e.fireEvent(\"pause\")) : t >= e.scheduledPause ? e.pause() : e.state === e.states[c] && e.fireEvent(\"audioprocess\", t);\n          };\n        }\n      }, {\n        key: \"removeOnAudioProcess\",\n        value: function () {\n          this.scriptNode.onaudioprocess = null;\n        }\n      }, {\n        key: \"createAnalyserNode\",\n        value: function () {\n          this.analyser = this.ac.createAnalyser(), this.analyser.connect(this.gainNode);\n        }\n      }, {\n        key: \"createVolumeNode\",\n        value: function () {\n          this.ac.createGain ? this.gainNode = this.ac.createGain() : this.gainNode = this.ac.createGainNode(), this.gainNode.connect(this.ac.destination);\n        }\n      }, {\n        key: \"setVolume\",\n        value: function (e) {\n          this.gainNode.gain.value = e;\n        }\n      }, {\n        key: \"getVolume\",\n        value: function () {\n          return this.gainNode.gain.value;\n        }\n      }, {\n        key: \"decodeArrayBuffer\",\n        value: function (e, t, n) {\n          this.offlineAc || (this.offlineAc = this.getOfflineAudioContext(this.ac ? this.ac.sampleRate : 44100)), this.offlineAc.decodeAudioData(e, function (e) {\n            return t(e);\n          }, n);\n        }\n      }, {\n        key: \"setPeaks\",\n        value: function (e) {\n          this.peaks = e;\n        }\n      }, {\n        key: \"setLength\",\n        value: function (e) {\n          if (!this.mergedPeaks || e != 2 * this.mergedPeaks.length - 1 + 2) {\n            this.splitPeaks = [], this.mergedPeaks = [];\n            var t = this.buffer ? this.buffer.numberOfChannels : 1,\n                n = void 0;\n\n            for (n = 0; n < t; n++) this.splitPeaks[n] = [], this.splitPeaks[n][2 * (e - 1)] = 0, this.splitPeaks[n][2 * (e - 1) + 1] = 0;\n\n            this.mergedPeaks[2 * (e - 1)] = 0, this.mergedPeaks[2 * (e - 1) + 1] = 0;\n          }\n        }\n      }, {\n        key: \"getPeaks\",\n        value: function (e, t, n) {\n          if (this.peaks) return this.peaks;\n          this.setLength(e);\n          var r = this.buffer.length / e,\n              i = ~~(r / 10) || 1,\n              a = this.buffer.numberOfChannels,\n              s = void 0;\n\n          for (s = 0; s < a; s++) {\n            var o = this.splitPeaks[s],\n                u = this.buffer.getChannelData(s),\n                l = void 0;\n\n            for (l = t; l <= n; l++) {\n              var c = ~~(l * r),\n                  h = ~~(c + r),\n                  f = 0,\n                  d = 0,\n                  p = void 0;\n\n              for (p = c; p < h; p += i) {\n                var v = u[p];\n                v > d && (d = v), v < f && (f = v);\n              }\n\n              o[2 * l] = d, o[2 * l + 1] = f, (0 == s || d > this.mergedPeaks[2 * l]) && (this.mergedPeaks[2 * l] = d), (0 == s || f < this.mergedPeaks[2 * l + 1]) && (this.mergedPeaks[2 * l + 1] = f);\n            }\n          }\n\n          return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n        }\n      }, {\n        key: \"getPlayedPercents\",\n        value: function () {\n          return this.state.getPlayedPercents.call(this);\n        }\n      }, {\n        key: \"disconnectSource\",\n        value: function () {\n          this.source && this.source.disconnect();\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.isPaused() || this.pause(), this.unAll(), this.buffer = null, this.disconnectFilters(), this.disconnectSource(), this.gainNode.disconnect(), this.scriptNode.disconnect(), this.analyser.disconnect(), this.params.closeAudioContext && (\"function\" == typeof this.ac.close && this.ac.close(), this.ac = null, this.params.audioContext ? this.params.audioContext = null : window.WaveSurferAudioContext = null, window.WaveSurferOfflineAudioContext = null);\n        }\n      }, {\n        key: \"load\",\n        value: function (e) {\n          this.startPosition = 0, this.lastPlay = this.ac.currentTime, this.buffer = e, this.createSource();\n        }\n      }, {\n        key: \"createSource\",\n        value: function () {\n          this.disconnectSource(), this.source = this.ac.createBufferSource(), this.source.start = this.source.start || this.source.noteGrainOn, this.source.stop = this.source.stop || this.source.noteOff, this.source.playbackRate.value = this.playbackRate, this.source.buffer = this.buffer, this.source.connect(this.analyser);\n        }\n      }, {\n        key: \"isPaused\",\n        value: function () {\n          return this.state !== this.states[c];\n        }\n      }, {\n        key: \"getDuration\",\n        value: function () {\n          return this.buffer ? this.buffer.duration : 0;\n        }\n      }, {\n        key: \"seekTo\",\n        value: function (e, t) {\n          if (this.buffer) return this.scheduledPause = null, null == e && (e = this.getCurrentTime()) >= this.getDuration() && (e = 0), null == t && (t = this.getDuration()), this.startPosition = e, this.lastPlay = this.ac.currentTime, this.state === this.states[f] && this.setState(h), {\n            start: e,\n            end: t\n          };\n        }\n      }, {\n        key: \"getPlayedTime\",\n        value: function () {\n          return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n        }\n      }, {\n        key: \"play\",\n        value: function (e, t) {\n          if (this.buffer) {\n            this.createSource();\n            var n = this.seekTo(e, t);\n            e = n.start, t = n.end, this.scheduledPause = t, this.source.start(0, e, t - e), \"suspended\" == this.ac.state && this.ac.resume && this.ac.resume(), this.setState(c), this.fireEvent(\"play\");\n          }\n        }\n      }, {\n        key: \"pause\",\n        value: function () {\n          this.scheduledPause = null, this.startPosition += this.getPlayedTime(), this.source && this.source.stop(0), this.setState(h), this.fireEvent(\"pause\");\n        }\n      }, {\n        key: \"getCurrentTime\",\n        value: function () {\n          return this.state.getCurrentTime.call(this);\n        }\n      }, {\n        key: \"getPlaybackRate\",\n        value: function () {\n          return this.playbackRate;\n        }\n      }, {\n        key: \"setPlaybackRate\",\n        value: function (e) {\n          e = e || 1, this.isPaused() ? this.playbackRate = e : (this.pause(), this.playbackRate = e, this.play());\n        }\n      }]), t;\n    }(l.Observer);\n\n    d.scriptBufferSize = 256, t.default = d, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      return function (t, n, r) {\n        return n && e(t.prototype, n), r && e(t, r), t;\n      };\n    }(),\n        a = function () {\n      function e() {\n        r(this, e), this.handlers = null;\n      }\n\n      return i(e, [{\n        key: \"on\",\n        value: function (e, t) {\n          var n = this;\n          this.handlers || (this.handlers = {});\n          var r = this.handlers[e];\n          return r || (r = this.handlers[e] = []), r.push(t), {\n            name: e,\n            callback: t,\n            un: function (e, t) {\n              return n.un(e, t);\n            }\n          };\n        }\n      }, {\n        key: \"un\",\n        value: function (e, t) {\n          if (this.handlers) {\n            var n = this.handlers[e],\n                r = void 0;\n            if (n) if (t) for (r = n.length - 1; r >= 0; r--) n[r] == t && n.splice(r, 1);else n.length = 0;\n          }\n        }\n      }, {\n        key: \"unAll\",\n        value: function () {\n          this.handlers = null;\n        }\n      }, {\n        key: \"once\",\n        value: function (e, t) {\n          var n = this,\n              r = function r() {\n            for (var i = arguments.length, a = Array(i), s = 0; s < i; s++) a[s] = arguments[s];\n\n            t.apply(n, a), setTimeout(function () {\n              n.un(e, r);\n            }, 0);\n          };\n\n          return this.on(e, r);\n        }\n      }, {\n        key: \"fireEvent\",\n        value: function (e) {\n          for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];\n\n          if (this.handlers) {\n            var i = this.handlers[e];\n            i && i.forEach(function (e) {\n              e.apply(void 0, n);\n            });\n          }\n        }\n      }]), e;\n    }();\n\n    t.default = a, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function i(e, t) {\n      if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n    }\n\n    function a(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      return function (t, n, r) {\n        return n && e(t.prototype, n), r && e(t, r), t;\n      };\n    }(),\n        o = n(6),\n        u = function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }(o),\n        l = n(0),\n        c = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      return t.default = e, t;\n    }(l),\n        h = function (e) {\n      function t(e, n) {\n        r(this, t);\n        var a = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));\n        return a.maxCanvasWidth = n.maxCanvasWidth, a.maxCanvasElementWidth = Math.round(n.maxCanvasWidth / n.pixelRatio), a.hasProgressCanvas = n.waveColor != n.progressColor, a.halfPixel = .5 / n.pixelRatio, a.canvases = [], a.progressWave = null, a;\n      }\n\n      return a(t, e), s(t, [{\n        key: \"init\",\n        value: function () {\n          this.createWrapper(), this.createElements();\n        }\n      }, {\n        key: \"createElements\",\n        value: function () {\n          this.progressWave = this.wrapper.appendChild(this.style(document.createElement(\"wave\"), {\n            position: \"absolute\",\n            zIndex: 2,\n            left: 0,\n            top: 0,\n            bottom: 0,\n            overflow: \"hidden\",\n            width: \"0\",\n            display: \"none\",\n            boxSizing: \"border-box\",\n            borderRightStyle: \"solid\",\n            borderRightWidth: this.params.cursorWidth + \"px\",\n            borderRightColor: this.params.cursorColor\n          })), this.addCanvas();\n        }\n      }, {\n        key: \"updateSize\",\n        value: function () {\n          for (var e = this, t = Math.round(this.width / this.params.pixelRatio), n = Math.ceil(t / this.maxCanvasElementWidth); this.canvases.length < n;) this.addCanvas();\n\n          for (; this.canvases.length > n;) this.removeCanvas();\n\n          this.canvases.forEach(function (t, n) {\n            var r = e.maxCanvasWidth + 2 * Math.ceil(e.params.pixelRatio / 2);\n            n == e.canvases.length - 1 && (r = e.width - e.maxCanvasWidth * (e.canvases.length - 1)), e.updateDimensions(t, r, e.height), e.clearWaveForEntry(t);\n          });\n        }\n      }, {\n        key: \"addCanvas\",\n        value: function () {\n          var e = {},\n              t = this.maxCanvasElementWidth * this.canvases.length;\n          e.wave = this.wrapper.appendChild(this.style(document.createElement(\"canvas\"), {\n            position: \"absolute\",\n            zIndex: 1,\n            left: t + \"px\",\n            top: 0,\n            bottom: 0\n          })), e.waveCtx = e.wave.getContext(\"2d\"), this.hasProgressCanvas && (e.progress = this.progressWave.appendChild(this.style(document.createElement(\"canvas\"), {\n            position: \"absolute\",\n            left: t + \"px\",\n            top: 0,\n            bottom: 0\n          })), e.progressCtx = e.progress.getContext(\"2d\")), this.canvases.push(e);\n        }\n      }, {\n        key: \"removeCanvas\",\n        value: function () {\n          var e = this.canvases.pop();\n          e.wave.parentElement.removeChild(e.wave), this.hasProgressCanvas && e.progress.parentElement.removeChild(e.progress);\n        }\n      }, {\n        key: \"updateDimensions\",\n        value: function (e, t, n) {\n          var r = Math.round(t / this.params.pixelRatio),\n              i = Math.round(this.width / this.params.pixelRatio);\n          e.start = e.waveCtx.canvas.offsetLeft / i || 0, e.end = e.start + r / i, e.waveCtx.canvas.width = t, e.waveCtx.canvas.height = n, this.style(e.waveCtx.canvas, {\n            width: r + \"px\"\n          }), this.style(this.progressWave, {\n            display: \"block\"\n          }), this.hasProgressCanvas && (e.progressCtx.canvas.width = t, e.progressCtx.canvas.height = n, this.style(e.progressCtx.canvas, {\n            width: r + \"px\"\n          }));\n        }\n      }, {\n        key: \"clearWave\",\n        value: function () {\n          var e = this;\n          this.canvases.forEach(function (t) {\n            return e.clearWaveForEntry(t);\n          });\n        }\n      }, {\n        key: \"clearWaveForEntry\",\n        value: function (e) {\n          e.waveCtx.clearRect(0, 0, e.waveCtx.canvas.width, e.waveCtx.canvas.height), this.hasProgressCanvas && e.progressCtx.clearRect(0, 0, e.progressCtx.canvas.width, e.progressCtx.canvas.height);\n        }\n      }, {\n        key: \"drawBars\",\n        value: function (e, t, n, r) {\n          var i = this;\n\n          if (e[0] instanceof Array) {\n            var a = e;\n            if (this.params.splitChannels) return this.setHeight(a.length * this.params.height * this.params.pixelRatio), void a.forEach(function (e, t) {\n              return i.drawBars(e, t, n, r);\n            });\n            e = a[0];\n          }\n\n          var s = [].some.call(e, function (e) {\n            return e < 0;\n          }),\n              o = s ? 2 : 1,\n              u = this.width,\n              l = this.params.height * this.params.pixelRatio,\n              h = l * t || 0,\n              f = l / 2,\n              d = e.length / o,\n              p = this.params.barWidth * this.params.pixelRatio,\n              v = Math.max(this.params.pixelRatio, ~~(p / 2)),\n              y = p + v,\n              m = 1;\n\n          if (this.params.normalize) {\n            var k = c.max(e),\n                g = c.min(e);\n            m = -g > k ? -g : k;\n          }\n\n          var b = d / u,\n              w = void 0;\n\n          for (w = n / b; w < r / b; w += y) {\n            var P = e[Math.floor(w * b * o)] || 0,\n                C = Math.round(P / m * f);\n            this.fillRect(w + this.halfPixel, f - C + h, p + this.halfPixel, 2 * C);\n          }\n        }\n      }, {\n        key: \"drawWave\",\n        value: function (e, t, n, r) {\n          var i = this;\n\n          if (e[0] instanceof Array) {\n            var a = e;\n            if (this.params.splitChannels) return this.setHeight(a.length * this.params.height * this.params.pixelRatio), void a.forEach(function (e, t) {\n              return i.drawWave(e, t, n, r);\n            });\n            e = a[0];\n          }\n\n          if (![].some.call(e, function (e) {\n            return e < 0;\n          })) {\n            var s = [],\n                o = e.length,\n                u = void 0;\n\n            for (u = 0; u < o; u++) s[2 * u] = e[u], s[2 * u + 1] = -e[u];\n\n            e = s;\n          }\n\n          var l = this.params.height * this.params.pixelRatio,\n              h = l * t || 0,\n              f = l / 2,\n              d = 1;\n\n          if (this.params.normalize) {\n            var p = c.max(e),\n                v = c.min(e);\n            d = -v > p ? -v : p;\n          }\n\n          this.drawLine(e, d, f, h, n, r), this.fillRect(0, f + h - this.halfPixel, this.width, this.halfPixel);\n        }\n      }, {\n        key: \"drawLine\",\n        value: function (e, t, n, r, i, a) {\n          var s = this;\n          this.canvases.forEach(function (o) {\n            s.setFillStyles(o), s.drawLineToContext(o, o.waveCtx, e, t, n, r, i, a), s.drawLineToContext(o, o.progressCtx, e, t, n, r, i, a);\n          });\n        }\n      }, {\n        key: \"drawLineToContext\",\n        value: function (e, t, n, r, i, a, s, o) {\n          if (t) {\n            var u = n.length / 2,\n                l = 1;\n            this.params.fillParent && this.width != u && (l = this.width / u);\n            var c = Math.round(u * e.start),\n                h = Math.round(u * e.end);\n\n            if (!(c > o || h < s)) {\n              var f = Math.max(c, s),\n                  d = Math.min(h, o),\n                  p = void 0,\n                  v = void 0;\n\n              for (t.beginPath(), t.moveTo((f - c) * l + this.halfPixel, i + a), p = f; p < d; p++) {\n                var y = n[2 * p] || 0,\n                    m = Math.round(y / r * i);\n                t.lineTo((p - c) * l + this.halfPixel, i - m + a);\n              }\n\n              for (v = d - 1; v >= f; v--) {\n                var k = n[2 * v + 1] || 0,\n                    g = Math.round(k / r * i);\n                t.lineTo((v - c) * l + this.halfPixel, i - g + a);\n              }\n\n              t.closePath(), t.fill();\n            }\n          }\n        }\n      }, {\n        key: \"fillRect\",\n        value: function (e, t, n, r) {\n          var i = Math.floor(e / this.maxCanvasWidth),\n              a = Math.min(Math.ceil((e + n) / this.maxCanvasWidth) + 1, this.canvases.length),\n              s = void 0;\n\n          for (s = i; s < a; s++) {\n            var o = this.canvases[s],\n                u = s * this.maxCanvasWidth,\n                l = {\n              x1: Math.max(e, s * this.maxCanvasWidth),\n              y1: t,\n              x2: Math.min(e + n, s * this.maxCanvasWidth + o.waveCtx.canvas.width),\n              y2: t + r\n            };\n            l.x1 < l.x2 && (this.setFillStyles(o), this.fillRectToContext(o.waveCtx, l.x1 - u, l.y1, l.x2 - l.x1, l.y2 - l.y1), this.fillRectToContext(o.progressCtx, l.x1 - u, l.y1, l.x2 - l.x1, l.y2 - l.y1));\n          }\n        }\n      }, {\n        key: \"fillRectToContext\",\n        value: function (e, t, n, r, i) {\n          e && e.fillRect(t, n, r, i);\n        }\n      }, {\n        key: \"setFillStyles\",\n        value: function (e) {\n          e.waveCtx.fillStyle = this.params.waveColor, this.hasProgressCanvas && (e.progressCtx.fillStyle = this.params.progressColor);\n        }\n      }, {\n        key: \"getImage\",\n        value: function (e, t) {\n          var n = this.canvases.map(function (n) {\n            return n.wave.toDataURL(e, t);\n          });\n          return n.length > 1 ? n : n[0];\n        }\n      }, {\n        key: \"updateProgress\",\n        value: function (e) {\n          this.style(this.progressWave, {\n            width: e + \"px\"\n          });\n        }\n      }]), t;\n    }(u.default);\n\n    t.default = h, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function i(e, t) {\n      if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n    }\n\n    function a(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      return function (t, n, r) {\n        return n && e(t.prototype, n), r && e(t, r), t;\n      };\n    }(),\n        o = function e(t, n, r) {\n      null === t && (t = Function.prototype);\n      var i = Object.getOwnPropertyDescriptor(t, n);\n\n      if (void 0 === i) {\n        var a = Object.getPrototypeOf(t);\n        return null === a ? void 0 : e(a, n, r);\n      }\n\n      if (\"value\" in i) return i.value;\n      var s = i.get;\n      if (void 0 !== s) return s.call(r);\n    },\n        u = n(1),\n        l = function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }(u),\n        c = n(0),\n        h = (function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      t.default = e;\n    }(c), function (e) {\n      function t(e) {\n        r(this, t);\n        var n = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n        return n.params = e, n.media = {\n          currentTime: 0,\n          duration: 0,\n          paused: !0,\n          playbackRate: 1,\n          play: function () {},\n          pause: function () {}\n        }, n.mediaType = e.mediaType.toLowerCase(), n.elementPosition = e.elementPosition, n.peaks = null, n.playbackRate = 1, n.buffer = null, n.onPlayEnd = null, n;\n      }\n\n      return a(t, e), s(t, [{\n        key: \"init\",\n        value: function () {\n          this.setPlaybackRate(this.params.audioRate), this.createTimer();\n        }\n      }, {\n        key: \"createTimer\",\n        value: function () {\n          var e = this,\n              t = function t() {\n            if (!e.isPaused()) {\n              e.fireEvent(\"audioprocess\", e.getCurrentTime());\n              (window.requestAnimationFrame || window.webkitRequestAnimationFrame)(t);\n            }\n          };\n\n          this.on(\"play\", t);\n        }\n      }, {\n        key: \"load\",\n        value: function (e, t, n, r) {\n          var i = document.createElement(this.mediaType);\n          i.controls = this.params.mediaControls, i.autoplay = this.params.autoplay || !1, i.preload = null == r ? \"auto\" : r, i.src = e, i.style.width = \"100%\";\n          var a = t.querySelector(this.mediaType);\n          a && t.removeChild(a), t.appendChild(i), this._load(i, n);\n        }\n      }, {\n        key: \"loadElt\",\n        value: function (e, t) {\n          e.controls = this.params.mediaControls, e.autoplay = this.params.autoplay || !1, this._load(e, t);\n        }\n      }, {\n        key: \"_load\",\n        value: function (e, t) {\n          var n = this;\n          \"function\" == typeof e.load && e.load(), e.addEventListener(\"error\", function () {\n            n.fireEvent(\"error\", \"Error loading media element\");\n          }), e.addEventListener(\"canplay\", function () {\n            n.fireEvent(\"canplay\");\n          }), e.addEventListener(\"ended\", function () {\n            n.fireEvent(\"finish\");\n          }), this.media = e, this.peaks = t, this.onPlayEnd = null, this.buffer = null, this.setPlaybackRate(this.playbackRate);\n        }\n      }, {\n        key: \"isPaused\",\n        value: function () {\n          return !this.media || this.media.paused;\n        }\n      }, {\n        key: \"getDuration\",\n        value: function () {\n          var e = (this.buffer || this.media).duration;\n          return e >= 1 / 0 && (e = this.media.seekable.end(0)), e;\n        }\n      }, {\n        key: \"getCurrentTime\",\n        value: function () {\n          return this.media && this.media.currentTime;\n        }\n      }, {\n        key: \"getPlayedPercents\",\n        value: function () {\n          return this.getCurrentTime() / this.getDuration() || 0;\n        }\n      }, {\n        key: \"setPlaybackRate\",\n        value: function (e) {\n          this.playbackRate = e || 1, this.media.playbackRate = this.playbackRate;\n        }\n      }, {\n        key: \"seekTo\",\n        value: function (e) {\n          null != e && (this.media.currentTime = e), this.clearPlayEnd();\n        }\n      }, {\n        key: \"play\",\n        value: function (e, t) {\n          this.seekTo(e), this.media.play(), t && this.setPlayEnd(t), this.fireEvent(\"play\");\n        }\n      }, {\n        key: \"pause\",\n        value: function () {\n          this.media && this.media.pause(), this.clearPlayEnd(), this.fireEvent(\"pause\");\n        }\n      }, {\n        key: \"setPlayEnd\",\n        value: function (e) {\n          var t = this;\n          this._onPlayEnd = function (n) {\n            n >= e && (t.pause(), t.seekTo(e));\n          }, this.on(\"audioprocess\", this._onPlayEnd);\n        }\n      }, {\n        key: \"clearPlayEnd\",\n        value: function () {\n          this._onPlayEnd && (this.un(\"audioprocess\", this._onPlayEnd), this._onPlayEnd = null);\n        }\n      }, {\n        key: \"getPeaks\",\n        value: function (e, n, r) {\n          return this.buffer ? o(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"getPeaks\", this).call(this, e, n, r) : this.peaks || [];\n        }\n      }, {\n        key: \"getVolume\",\n        value: function () {\n          return this.media.volume;\n        }\n      }, {\n        key: \"setVolume\",\n        value: function (e) {\n          this.media.volume = e;\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.pause(), this.unAll(), this.media && this.media.parentNode && this.media.parentNode.removeChild(this.media), this.media = null;\n        }\n      }]), t;\n    }(l.default));\n\n    t.default = h, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      return function (t, n, r) {\n        return n && e(t.prototype, n), r && e(t, r), t;\n      };\n    }(),\n        a = function () {\n      function e() {\n        r(this, e), this.clearPeakCache();\n      }\n\n      return i(e, [{\n        key: \"clearPeakCache\",\n        value: function () {\n          this.peakCacheRanges = [], this.peakCacheLength = -1;\n        }\n      }, {\n        key: \"addRangeToPeakCache\",\n        value: function (e, t, n) {\n          e != this.peakCacheLength && (this.clearPeakCache(), this.peakCacheLength = e);\n\n          for (var r = [], i = 0; i < this.peakCacheRanges.length && this.peakCacheRanges[i] < t;) i++;\n\n          for (i % 2 == 0 && r.push(t); i < this.peakCacheRanges.length && this.peakCacheRanges[i] <= n;) r.push(this.peakCacheRanges[i]), i++;\n\n          i % 2 == 0 && r.push(n), r = r.filter(function (e, t, n) {\n            return 0 == t ? e != n[t + 1] : t == n.length - 1 ? e != n[t - 1] : e != n[t - 1] && e != n[t + 1];\n          }), this.peakCacheRanges = this.peakCacheRanges.concat(r), this.peakCacheRanges = this.peakCacheRanges.sort(function (e, t) {\n            return e - t;\n          }).filter(function (e, t, n) {\n            return 0 == t ? e != n[t + 1] : t == n.length - 1 ? e != n[t - 1] : e != n[t - 1] && e != n[t + 1];\n          });\n          var a = [];\n\n          for (i = 0; i < r.length; i += 2) a.push([r[i], r[i + 1]]);\n\n          return a;\n        }\n      }, {\n        key: \"getCacheRanges\",\n        value: function () {\n          var e = [],\n              t = void 0;\n\n          for (t = 0; t < this.peakCacheRanges.length; t += 2) e.push([this.peakCacheRanges[t], this.peakCacheRanges[t + 1]]);\n\n          return e;\n        }\n      }]), e;\n    }();\n\n    t.default = a, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function i(e, t) {\n      if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n    }\n\n    function a(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      return function (t, n, r) {\n        return n && e(t.prototype, n), r && e(t, r), t;\n      };\n    }(),\n        o = n(0),\n        u = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      return t.default = e, t;\n    }(o),\n        l = function (e) {\n      function t(e, n) {\n        r(this, t);\n        var a = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));\n        return a.container = e, a.params = n, a.width = 0, a.height = n.height * a.params.pixelRatio, a.lastPos = 0, a.wrapper = null, a;\n      }\n\n      return a(t, e), s(t, [{\n        key: \"style\",\n        value: function (e, t) {\n          return u.style(e, t);\n        }\n      }, {\n        key: \"createWrapper\",\n        value: function () {\n          this.wrapper = this.container.appendChild(document.createElement(\"wave\")), this.style(this.wrapper, {\n            display: \"block\",\n            position: \"relative\",\n            userSelect: \"none\",\n            webkitUserSelect: \"none\",\n            height: this.params.height + \"px\"\n          }), (this.params.fillParent || this.params.scrollParent) && this.style(this.wrapper, {\n            width: \"100%\",\n            overflowX: this.params.hideScrollbar ? \"hidden\" : \"auto\",\n            overflowY: \"hidden\"\n          }), this.setupWrapperEvents();\n        }\n      }, {\n        key: \"handleEvent\",\n        value: function (e, t) {\n          !t && e.preventDefault();\n          var n = e.targetTouches ? e.targetTouches[0].clientX : e.clientX,\n              r = this.wrapper.getBoundingClientRect(),\n              i = this.width,\n              a = this.getWidth(),\n              s = void 0;\n          return !this.params.fillParent && i < a ? (s = (n - r.left) * this.params.pixelRatio / i || 0) > 1 && (s = 1) : s = (n - r.left + this.wrapper.scrollLeft) / this.wrapper.scrollWidth || 0, s;\n        }\n      }, {\n        key: \"setupWrapperEvents\",\n        value: function () {\n          var e = this;\n          this.wrapper.addEventListener(\"click\", function (t) {\n            var n = e.wrapper.offsetHeight - e.wrapper.clientHeight;\n\n            if (0 != n) {\n              var r = e.wrapper.getBoundingClientRect();\n              if (t.clientY >= r.bottom - n) return;\n            }\n\n            e.params.interact && e.fireEvent(\"click\", t, e.handleEvent(t));\n          }), this.wrapper.addEventListener(\"scroll\", function (t) {\n            return e.fireEvent(\"scroll\", t);\n          });\n        }\n      }, {\n        key: \"drawPeaks\",\n        value: function (e, t, n, r) {\n          this.setWidth(t), this.params.barWidth ? this.drawBars(e, 0, n, r) : this.drawWave(e, 0, n, r);\n        }\n      }, {\n        key: \"resetScroll\",\n        value: function () {\n          null !== this.wrapper && (this.wrapper.scrollLeft = 0);\n        }\n      }, {\n        key: \"recenter\",\n        value: function (e) {\n          var t = this.wrapper.scrollWidth * e;\n          this.recenterOnPosition(t, !0);\n        }\n      }, {\n        key: \"recenterOnPosition\",\n        value: function (e, t) {\n          var n = this.wrapper.scrollLeft,\n              r = ~~(this.wrapper.clientWidth / 2),\n              i = this.wrapper.scrollWidth - this.wrapper.clientWidth,\n              a = e - r,\n              s = a - n;\n\n          if (0 != i) {\n            if (!t && -r <= s && s < r) {\n              s = Math.max(-5, Math.min(5, s)), a = n + s;\n            }\n\n            a = Math.max(0, Math.min(i, a)), a != n && (this.wrapper.scrollLeft = a);\n          }\n        }\n      }, {\n        key: \"getScrollX\",\n        value: function () {\n          return Math.round(this.wrapper.scrollLeft * this.params.pixelRatio);\n        }\n      }, {\n        key: \"getWidth\",\n        value: function () {\n          return Math.round(this.container.clientWidth * this.params.pixelRatio);\n        }\n      }, {\n        key: \"setWidth\",\n        value: function (e) {\n          this.width != e && (this.width = e, this.params.fillParent || this.params.scrollParent ? this.style(this.wrapper, {\n            width: \"\"\n          }) : this.style(this.wrapper, {\n            width: ~~(this.width / this.params.pixelRatio) + \"px\"\n          }), this.updateSize());\n        }\n      }, {\n        key: \"setHeight\",\n        value: function (e) {\n          e != this.height && (this.height = e, this.style(this.wrapper, {\n            height: ~~(this.height / this.params.pixelRatio) + \"px\"\n          }), this.updateSize());\n        }\n      }, {\n        key: \"progress\",\n        value: function (e) {\n          var t = 1 / this.params.pixelRatio,\n              n = Math.round(e * this.width) * t;\n\n          if (n < this.lastPos || n - this.lastPos >= t) {\n            if (this.lastPos = n, this.params.scrollParent && this.params.autoCenter) {\n              var r = ~~(this.wrapper.scrollWidth * e);\n              this.recenterOnPosition(r);\n            }\n\n            this.updateProgress(n);\n          }\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.unAll(), this.wrapper && (this.container.removeChild(this.wrapper), this.wrapper = null);\n        }\n      }, {\n        key: \"updateSize\",\n        value: function () {}\n      }, {\n        key: \"drawBars\",\n        value: function (e, t, n, r) {}\n      }, {\n        key: \"drawWave\",\n        value: function (e, t, n, r) {}\n      }, {\n        key: \"clearWave\",\n        value: function () {}\n      }, {\n        key: \"updateProgress\",\n        value: function (e) {}\n      }]), t;\n    }(u.Observer);\n\n    t.default = l, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      var t = new a.default(),\n          n = new XMLHttpRequest(),\n          r = !1;\n      return n.open(e.method || \"GET\", e.url, !0), n.responseType = e.responseType || \"json\", n.addEventListener(\"progress\", function (e) {\n        t.fireEvent(\"progress\", e), e.lengthComputable && e.loaded == e.total && (r = !0);\n      }), n.addEventListener(\"load\", function (e) {\n        r || t.fireEvent(\"progress\", e), t.fireEvent(\"load\", e), 200 == n.status || 206 == n.status ? t.fireEvent(\"success\", n.response, e) : t.fireEvent(\"error\", e);\n      }), n.addEventListener(\"error\", function (e) {\n        return t.fireEvent(\"error\", e);\n      }), n.send(), t.xhr = n, t;\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = r;\n\n    var i = n(2),\n        a = function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }(i);\n\n    e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];\n\n      return n.forEach(function (t) {\n        Object.keys(t).forEach(function (n) {\n          e[n] = t[n];\n        });\n      }), e;\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = r, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r() {\n      return \"wavesurfer_\" + Math.random().toString(32).substring(2);\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = r, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      var t = -1 / 0;\n      return Object.keys(e).forEach(function (n) {\n        e[n] > t && (t = e[n]);\n      }), t;\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = r, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      var t = Number(1 / 0);\n      return Object.keys(e).forEach(function (n) {\n        e[n] < t && (t = e[n]);\n      }), t;\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = r, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t) {\n      return Object.keys(t).forEach(function (n) {\n        e.style[n] !== t[n] && (e.style[n] = t[n]);\n      }), e;\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = r, e.exports = t.default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    function i(e, t) {\n      if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n    }\n\n    function a(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }\n\n    function s(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      return function (t, n, r) {\n        return n && e(t.prototype, n), r && e(t, r), t;\n      };\n    }(),\n        u = n(0),\n        l = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      return t.default = e, t;\n    }(u),\n        c = n(3),\n        h = r(c),\n        f = n(1),\n        d = r(f),\n        p = n(4),\n        v = r(p),\n        y = n(5),\n        m = r(y),\n        k = (function () {\n      function e(t, n) {\n        s(this, e);\n      }\n\n      o(e, [{\n        key: \"create\",\n        value: function (e) {}\n      }]), o(e, [{\n        key: \"init\",\n        value: function () {}\n      }, {\n        key: \"destroy\",\n        value: function () {}\n      }]);\n    }(), function (e) {\n      function t(e) {\n        var n;\n        s(this, t);\n        var r = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));\n        if (r.defaultParams = {\n          audioContext: null,\n          audioRate: 1,\n          autoCenter: !0,\n          backend: \"WebAudio\",\n          container: null,\n          cursorColor: \"#333\",\n          cursorWidth: 1,\n          dragSelection: !0,\n          fillParent: !0,\n          forceDecode: !0,\n          height: 128,\n          hideScrollbar: !1,\n          interact: !0,\n          loopSelection: !0,\n          maxCanvasWidth: 4e3,\n          mediaContainer: null,\n          mediaControls: !1,\n          mediaType: \"audio\",\n          minPxPerSec: 20,\n          normalize: !1,\n          partialRender: !1,\n          pixelRatio: window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n          plugins: [],\n          progressColor: \"#555\",\n          renderer: h.default,\n          responsive: !1,\n          scrollParent: !1,\n          skipLength: 2,\n          splitChannels: !1,\n          waveColor: \"#999\"\n        }, r.backends = {\n          MediaElement: v.default,\n          WebAudio: d.default\n        }, r.util = l, r.params = l.extend({}, r.defaultParams, e), r.container = \"string\" == typeof e.container ? document.querySelector(r.params.container) : r.params.container, !r.container) throw new Error(\"Container element not found\");\n        if (null == r.params.mediaContainer ? r.mediaContainer = r.container : \"string\" == typeof r.params.mediaContainer ? r.mediaContainer = document.querySelector(r.params.mediaContainer) : r.mediaContainer = r.params.mediaContainer, !r.mediaContainer) throw new Error(\"Media Container element not found\");\n        if (r.params.maxCanvasWidth <= 1) throw new Error(\"maxCanvasWidth must be greater than 1\");\n        if (r.params.maxCanvasWidth % 2 == 1) throw new Error(\"maxCanvasWidth must be an even number\");\n        if (r.savedVolume = 0, r.isMuted = !1, r.tmpEvents = [], r.currentAjax = null, r.arraybuffer = null, r.drawer = null, r.backend = null, r.peakCache = null, \"function\" != typeof r.params.renderer) throw new Error(\"Renderer parameter is invalid\");\n        r.Drawer = r.params.renderer, r.Backend = r.backends[r.params.backend], r.initialisedPluginList = {}, r.isDestroyed = !1, r.isReady = !1;\n        var a = 0;\n        return r._onResize = l.debounce(function () {\n          a != r.drawer.wrapper.clientWidth && (a = r.drawer.wrapper.clientWidth, r.empty(), r.drawBuffer());\n        }, \"number\" == typeof r.params.responsive ? r.params.responsive : 100), n = r, i(r, n);\n      }\n\n      return a(t, e), o(t, null, [{\n        key: \"create\",\n        value: function (e) {\n          return new t(e).init();\n        }\n      }]), o(t, [{\n        key: \"init\",\n        value: function () {\n          return this.registerPlugins(this.params.plugins), this.createDrawer(), this.createBackend(), this.createPeakCache(), this;\n        }\n      }, {\n        key: \"registerPlugins\",\n        value: function (e) {\n          var t = this;\n          return e.forEach(function (e) {\n            return t.addPlugin(e);\n          }), e.forEach(function (e) {\n            e.deferInit || t.initPlugin(e.name);\n          }), this.fireEvent(\"plugins-registered\", e), this;\n        }\n      }, {\n        key: \"addPlugin\",\n        value: function (e) {\n          var t = this;\n          if (!e.name) throw new Error(\"Plugin does not have a name!\");\n          if (!e.instance) throw new Error(\"Plugin \" + e.name + \" does not have an instance property!\");\n          e.staticProps && Object.keys(e.staticProps).forEach(function (n) {\n            t[n] = e.staticProps[n];\n          });\n          var n = e.instance;\n          return Object.getOwnPropertyNames(l.Observer.prototype).forEach(function (e) {\n            n.prototype[e] = l.Observer.prototype[e];\n          }), this[e.name] = new n(e.params || {}, this), this.fireEvent(\"plugin-added\", e.name), this;\n        }\n      }, {\n        key: \"initPlugin\",\n        value: function (e) {\n          if (!this[e]) throw new Error(\"Plugin \" + e + \" has not been added yet!\");\n          return this.initialisedPluginList[e] && this.destroyPlugin(e), this[e].init(), this.initialisedPluginList[e] = !0, this.fireEvent(\"plugin-initialised\", e), this;\n        }\n      }, {\n        key: \"destroyPlugin\",\n        value: function (e) {\n          if (!this[e]) throw new Error(\"Plugin \" + e + \" has not been added yet and cannot be destroyed!\");\n          if (!this.initialisedPluginList[e]) throw new Error(\"Plugin \" + e + \" is not active and cannot be destroyed!\");\n          if (\"function\" != typeof this[e].destroy) throw new Error(\"Plugin \" + e + \" does not have a destroy function!\");\n          return this[e].destroy(), delete this.initialisedPluginList[e], this.fireEvent(\"plugin-destroyed\", e), this;\n        }\n      }, {\n        key: \"destroyAllPlugins\",\n        value: function () {\n          var e = this;\n          Object.keys(this.initialisedPluginList).forEach(function (t) {\n            return e.destroyPlugin(t);\n          });\n        }\n      }, {\n        key: \"createDrawer\",\n        value: function () {\n          var e = this;\n          this.drawer = new this.Drawer(this.container, this.params), this.drawer.init(), this.fireEvent(\"drawer-created\", this.drawer), this.params.responsive && window.addEventListener(\"resize\", this._onResize, !0), this.drawer.on(\"redraw\", function () {\n            e.drawBuffer(), e.drawer.progress(e.backend.getPlayedPercents());\n          }), this.drawer.on(\"click\", function (t, n) {\n            setTimeout(function () {\n              return e.seekTo(n);\n            }, 0);\n          }), this.drawer.on(\"scroll\", function (t) {\n            e.params.partialRender && e.drawBuffer(), e.fireEvent(\"scroll\", t);\n          });\n        }\n      }, {\n        key: \"createBackend\",\n        value: function () {\n          var e = this;\n          this.backend && this.backend.destroy(), \"AudioElement\" == this.params.backend && (this.params.backend = \"MediaElement\"), \"WebAudio\" != this.params.backend || this.Backend.prototype.supportsWebAudio.call(null) || (this.params.backend = \"MediaElement\"), this.backend = new this.Backend(this.params), this.backend.init(), this.fireEvent(\"backend-created\", this.backend), this.backend.on(\"finish\", function () {\n            return e.fireEvent(\"finish\");\n          }), this.backend.on(\"play\", function () {\n            return e.fireEvent(\"play\");\n          }), this.backend.on(\"pause\", function () {\n            return e.fireEvent(\"pause\");\n          }), this.backend.on(\"audioprocess\", function (t) {\n            e.drawer.progress(e.backend.getPlayedPercents()), e.fireEvent(\"audioprocess\", t);\n          });\n        }\n      }, {\n        key: \"createPeakCache\",\n        value: function () {\n          this.params.partialRender && (this.peakCache = new m.default());\n        }\n      }, {\n        key: \"getDuration\",\n        value: function () {\n          return this.backend.getDuration();\n        }\n      }, {\n        key: \"getCurrentTime\",\n        value: function () {\n          return this.backend.getCurrentTime();\n        }\n      }, {\n        key: \"play\",\n        value: function (e, t) {\n          var n = this;\n          this.fireEvent(\"interaction\", function () {\n            return n.play(e, t);\n          }), this.backend.play(e, t);\n        }\n      }, {\n        key: \"pause\",\n        value: function () {\n          this.backend.isPaused() || this.backend.pause();\n        }\n      }, {\n        key: \"playPause\",\n        value: function () {\n          this.backend.isPaused() ? this.play() : this.pause();\n        }\n      }, {\n        key: \"isPlaying\",\n        value: function () {\n          return !this.backend.isPaused();\n        }\n      }, {\n        key: \"skipBackward\",\n        value: function (e) {\n          this.skip(-e || -this.params.skipLength);\n        }\n      }, {\n        key: \"skipForward\",\n        value: function (e) {\n          this.skip(e || this.params.skipLength);\n        }\n      }, {\n        key: \"skip\",\n        value: function (e) {\n          var t = this.getDuration() || 1,\n              n = this.getCurrentTime() || 0;\n          n = Math.max(0, Math.min(t, n + (e || 0))), this.seekAndCenter(n / t);\n        }\n      }, {\n        key: \"seekAndCenter\",\n        value: function (e) {\n          this.seekTo(e), this.drawer.recenter(e);\n        }\n      }, {\n        key: \"seekTo\",\n        value: function (e) {\n          var t = this;\n          this.fireEvent(\"interaction\", function () {\n            return t.seekTo(e);\n          });\n          var n = this.backend.isPaused();\n          n || this.backend.pause();\n          var r = this.params.scrollParent;\n          this.params.scrollParent = !1, this.backend.seekTo(e * this.getDuration()), this.drawer.progress(this.backend.getPlayedPercents()), n || this.backend.play(), this.params.scrollParent = r, this.fireEvent(\"seek\", e);\n        }\n      }, {\n        key: \"stop\",\n        value: function () {\n          this.pause(), this.seekTo(0), this.drawer.progress(0);\n        }\n      }, {\n        key: \"setVolume\",\n        value: function (e) {\n          this.backend.setVolume(e);\n        }\n      }, {\n        key: \"getVolume\",\n        value: function () {\n          return this.backend.getVolume();\n        }\n      }, {\n        key: \"setPlaybackRate\",\n        value: function (e) {\n          this.backend.setPlaybackRate(e);\n        }\n      }, {\n        key: \"getPlaybackRate\",\n        value: function () {\n          return this.backend.getPlaybackRate();\n        }\n      }, {\n        key: \"toggleMute\",\n        value: function () {\n          this.setMute(!this.isMuted);\n        }\n      }, {\n        key: \"setMute\",\n        value: function (e) {\n          e !== this.isMuted && (e ? (this.savedVolume = this.backend.getVolume(), this.backend.setVolume(0), this.isMuted = !0) : (this.backend.setVolume(this.savedVolume), this.isMuted = !1));\n        }\n      }, {\n        key: \"getMute\",\n        value: function () {\n          return this.isMuted;\n        }\n      }, {\n        key: \"toggleScroll\",\n        value: function () {\n          this.params.scrollParent = !this.params.scrollParent, this.drawBuffer();\n        }\n      }, {\n        key: \"toggleInteraction\",\n        value: function () {\n          this.params.interact = !this.params.interact;\n        }\n      }, {\n        key: \"drawBuffer\",\n        value: function () {\n          var e = Math.round(this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio),\n              t = this.drawer.getWidth(),\n              n = e,\n              r = this.drawer.getScrollX(),\n              i = Math.min(r + t, n);\n          this.params.fillParent && (!this.params.scrollParent || e < t) && (n = t, r = 0, i = n);\n          var a = void 0;\n\n          if (this.params.partialRender) {\n            var s = this.peakCache.addRangeToPeakCache(n, r, i),\n                o = void 0;\n\n            for (o = 0; o < s.length; o++) a = this.backend.getPeaks(n, s[o][0], s[o][1]), this.drawer.drawPeaks(a, n, s[o][0], s[o][1]);\n          } else r = 0, i = n, a = this.backend.getPeaks(n, r, i), this.drawer.drawPeaks(a, n, r, i);\n\n          this.fireEvent(\"redraw\", a, n);\n        }\n      }, {\n        key: \"zoom\",\n        value: function (e) {\n          this.params.minPxPerSec = e, this.params.scrollParent = !0, this.drawBuffer(), this.drawer.progress(this.backend.getPlayedPercents()), this.drawer.recenter(this.getCurrentTime() / this.getDuration()), this.fireEvent(\"zoom\", e);\n        }\n      }, {\n        key: \"loadArrayBuffer\",\n        value: function (e) {\n          var t = this;\n          this.decodeArrayBuffer(e, function (e) {\n            t.isDestroyed || t.loadDecodedBuffer(e);\n          });\n        }\n      }, {\n        key: \"loadDecodedBuffer\",\n        value: function (e) {\n          this.backend.load(e), this.drawBuffer(), this.fireEvent(\"ready\"), this.isReady = !0;\n        }\n      }, {\n        key: \"loadBlob\",\n        value: function (e) {\n          var t = this,\n              n = new FileReader();\n          n.addEventListener(\"progress\", function (e) {\n            return t.onProgress(e);\n          }), n.addEventListener(\"load\", function (e) {\n            return t.loadArrayBuffer(e.target.result);\n          }), n.addEventListener(\"error\", function () {\n            return t.fireEvent(\"error\", \"Error reading file\");\n          }), n.readAsArrayBuffer(e), this.empty();\n        }\n      }, {\n        key: \"load\",\n        value: function (e, t, n) {\n          switch (this.empty(), this.params.backend) {\n            case \"WebAudio\":\n              return this.loadBuffer(e, t);\n\n            case \"MediaElement\":\n              return this.loadMediaElement(e, t, n);\n          }\n        }\n      }, {\n        key: \"loadBuffer\",\n        value: function (e, t) {\n          var n = this,\n              r = function (t) {\n            return t && n.tmpEvents.push(n.once(\"ready\", t)), n.getArrayBuffer(e, function (e) {\n              return n.loadArrayBuffer(e);\n            });\n          };\n\n          if (!t) return r();\n          this.backend.setPeaks(t), this.drawBuffer(), this.tmpEvents.push(this.once(\"interaction\", r));\n        }\n      }, {\n        key: \"loadMediaElement\",\n        value: function (e, t, n) {\n          var r = this,\n              i = e;\n          if (\"string\" == typeof e) this.backend.load(i, this.mediaContainer, t, n);else {\n            var a = e;\n            this.backend.loadElt(a, t), i = a.src;\n          }\n          this.tmpEvents.push(this.backend.once(\"canplay\", function () {\n            r.drawBuffer(), r.fireEvent(\"ready\");\n          }), this.backend.once(\"error\", function (e) {\n            return r.fireEvent(\"error\", e);\n          })), t && this.backend.setPeaks(t), t && !this.params.forceDecode || !this.backend.supportsWebAudio() || this.getArrayBuffer(i, function (e) {\n            r.decodeArrayBuffer(e, function (e) {\n              r.backend.buffer = e, r.backend.setPeaks(null), r.drawBuffer(), r.fireEvent(\"waveform-ready\");\n            });\n          });\n        }\n      }, {\n        key: \"decodeArrayBuffer\",\n        value: function (e, t) {\n          var n = this;\n          this.arraybuffer = e, this.backend.decodeArrayBuffer(e, function (r) {\n            n.isDestroyed || n.arraybuffer != e || (t(r), n.arraybuffer = null);\n          }, function () {\n            return n.fireEvent(\"error\", \"Error decoding audiobuffer\");\n          });\n        }\n      }, {\n        key: \"getArrayBuffer\",\n        value: function (e, t) {\n          var n = this,\n              r = l.ajax({\n            url: e,\n            responseType: \"arraybuffer\"\n          });\n          return this.currentAjax = r, this.tmpEvents.push(r.on(\"progress\", function (e) {\n            n.onProgress(e);\n          }), r.on(\"success\", function (e, r) {\n            t(e), n.currentAjax = null;\n          }), r.on(\"error\", function (e) {\n            n.fireEvent(\"error\", \"XHR error: \" + e.target.statusText), n.currentAjax = null;\n          })), r;\n        }\n      }, {\n        key: \"onProgress\",\n        value: function (e) {\n          var t = void 0;\n          t = e.lengthComputable ? e.loaded / e.total : e.loaded / (e.loaded + 1e6), this.fireEvent(\"loading\", Math.round(100 * t), e.target);\n        }\n      }, {\n        key: \"exportPCM\",\n        value: function (e, t, n) {\n          e = e || 1024, t = t || 1e4, n = n || !1;\n          var r = this.backend.getPeaks(e, t),\n              i = [].map.call(r, function (e) {\n            return Math.round(e * t) / t;\n          }),\n              a = JSON.stringify(i);\n          return n || window.open(\"data:application/json;charset=utf-8,\" + encodeURIComponent(a)), a;\n        }\n      }, {\n        key: \"exportImage\",\n        value: function (e, t) {\n          return e || (e = \"image/png\"), t || (t = 1), this.drawer.getImage(e, t);\n        }\n      }, {\n        key: \"cancelAjax\",\n        value: function () {\n          this.currentAjax && (this.currentAjax.xhr.abort(), this.currentAjax = null);\n        }\n      }, {\n        key: \"clearTmpEvents\",\n        value: function () {\n          this.tmpEvents.forEach(function (e) {\n            return e.un();\n          });\n        }\n      }, {\n        key: \"empty\",\n        value: function () {\n          this.backend.isPaused() || (this.stop(), this.backend.disconnectSource()), this.cancelAjax(), this.clearTmpEvents(), this.drawer.progress(0), this.drawer.setWidth(0), this.drawer.drawPeaks({\n            length: this.drawer.getWidth()\n          }, 0);\n        }\n      }, {\n        key: \"destroy\",\n        value: function () {\n          this.destroyAllPlugins(), this.fireEvent(\"destroy\"), this.cancelAjax(), this.clearTmpEvents(), this.unAll(), this.params.responsive && window.removeEventListener(\"resize\", this._onResize, !0), this.backend.destroy(), this.drawer.destroy(), this.isDestroyed = !0, this.arraybuffer = null;\n        }\n      }]), t;\n    }(l.Observer));\n\n    k.util = l, t.default = k, e.exports = t.default;\n  }, function (e, t) {\n    e.exports = function (e, t, n) {\n      function r() {\n        var l = Date.now() - o;\n        l < t && l >= 0 ? i = setTimeout(r, t - l) : (i = null, n || (u = e.apply(s, a), s = a = null));\n      }\n\n      var i, a, s, o, u;\n      null == t && (t = 100);\n\n      var l = function () {\n        s = this, a = arguments, o = Date.now();\n        var l = n && !i;\n        return i || (i = setTimeout(r, t)), l && (u = e.apply(s, a), s = a = null), u;\n      };\n\n      return l.clear = function () {\n        i && (clearTimeout(i), i = null);\n      }, l;\n    };\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}