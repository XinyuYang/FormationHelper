{"ast":null,"code":"!function (e, o) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = o(require(\"wavesurfer.js\"), require(\"react\"), require(\"prop-types\")) : \"function\" == typeof define && define.amd ? define([\"wavesurfer\", \"react\", \"prop-types\"], o) : \"object\" == typeof exports ? exports.Wavesurfer = o(require(\"wavesurfer.js\"), require(\"react\"), require(\"prop-types\")) : e.Wavesurfer = o(e.WaveSurfer, e.React, e[\"prop-types\"]);\n}(this, function (e, o, t) {\n  return function (e) {\n    function o(r) {\n      if (t[r]) return t[r].exports;\n      var n = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(n.exports, n, n.exports, o), n.l = !0, n.exports;\n    }\n\n    var t = {};\n    return o.m = e, o.c = t, o.d = function (e, t, r) {\n      o.o(e, t) || Object.defineProperty(e, t, {\n        configurable: !1,\n        enumerable: !0,\n        get: r\n      });\n    }, o.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return o.d(t, \"a\", t), t;\n    }, o.o = function (e, o) {\n      return Object.prototype.hasOwnProperty.call(e, o);\n    }, o.p = \"\", o(o.s = 0);\n  }([function (e, o, t) {\n    \"use strict\";\n\n    (function (e) {\n      function r(e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      }\n\n      function n(e, o) {\n        if (!(e instanceof o)) throw new TypeError(\"Cannot call a class as a function\");\n      }\n\n      function i(e, o) {\n        if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return !o || \"object\" != typeof o && \"function\" != typeof o ? e : o;\n      }\n\n      function s(e, o) {\n        if (\"function\" != typeof o && null !== o) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof o);\n        e.prototype = Object.create(o && o.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), o && (Object.setPrototypeOf ? Object.setPrototypeOf(e, o) : e.__proto__ = o);\n      }\n\n      function a(e) {\n        return e.split(\"-\").map(function (e) {\n          return e.charAt(0).toUpperCase() + e.slice(1);\n        }).join(\"\");\n      }\n\n      function u(e, o, t) {\n        var r = e[o];\n        return void 0 !== r && (\"number\" != typeof r || r !== parseInt(r, 10) || r < 0) ? new Error(\"Invalid \" + o + \" supplied to \" + t + \",\\n      expected a positive integer\") : null;\n      }\n\n      Object.defineProperty(o, \"__esModule\", {\n        value: !0\n      });\n\n      var l = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      },\n          p = function () {\n        function e(e, o) {\n          for (var t = 0; t < o.length; t++) {\n            var r = o[t];\n            r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n          }\n        }\n\n        return function (o, t, r) {\n          return t && e(o.prototype, t), r && e(o, r), o;\n        };\n      }(),\n          f = t(2),\n          d = r(f),\n          c = t(3),\n          v = r(c),\n          h = t(4),\n          y = r(h),\n          w = [\"audioprocess\", \"error\", \"finish\", \"loading\", \"mouseup\", \"pause\", \"play\", \"ready\", \"scroll\", \"seek\", \"zoom\"],\n          m = function (e) {\n        return function () {\n          var o = void 0;\n          o || (o = setTimeout(function () {\n            o = null, e();\n          }, 66));\n        };\n      },\n          b = function (o) {\n        function t(o) {\n          n(this, t);\n          var r = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, o));\n          if (r.state = {\n            isReady: !1\n          }, void 0 === (void 0 === e ? \"undefined\" : l(e))) throw new Error(\"WaveSurfer is undefined!\");\n          return r._wavesurfer = Object.create(e), r._loadMediaElt = r._loadMediaElt.bind(r), r._loadAudio = r._loadAudio.bind(r), r._seekTo = r._seekTo.bind(r), r.props.responsive && (r._handleResize = m(function () {\n            r.props.playing && r._wavesurfer.pause(), r._wavesurfer.drawBuffer(), r.state.isReady && r._seekTo(r.props.pos), r.props.playing && r._wavesurfer.play();\n          })), r;\n        }\n\n        return s(t, o), p(t, [{\n          key: \"componentDidMount\",\n          value: function () {\n            var e = this,\n                o = (0, y.default)({}, this.props.options, {\n              container: this.wavesurferEl\n            });\n            this.props.mediaElt && (o.backend = \"MediaElement\"), this._wavesurfer.init(o), this._wavesurfer.on(\"ready\", function () {\n              e.setState({\n                isReady: !0,\n                pos: e.props.pos\n              }), e.props.pos && e._seekTo(e.props.pos), e.props.volume && e._wavesurfer.setVolume(e.props.volume), e.props.playing && e._wavesurfer.play(), e.props.zoom && e._wavesurfer.zoom(e.props.zoom);\n            }), this._wavesurfer.on(\"audioprocess\", function (o) {\n              e.setState({\n                pos: o\n              }), e.props.onPosChange({\n                wavesurfer: e._wavesurfer,\n                originalArgs: [o]\n              });\n            }), this._wavesurfer.on(\"seek\", function (o) {\n              if (e.state.isReady) {\n                var t = e._posToSec(o);\n\n                e.setState({\n                  formattedPos: t\n                }), e.props.onPosChange({\n                  wavesurfer: e._wavesurfer,\n                  originalArgs: [t]\n                });\n              }\n            }), w.forEach(function (o) {\n              var t = e.props[\"on\" + a(o)],\n                  r = e._wavesurfer;\n              t && e._wavesurfer.on(o, function () {\n                for (var e = arguments.length, o = Array(e), n = 0; n < e; n++) o[n] = arguments[n];\n\n                t({\n                  wavesurfer: r,\n                  originalArgs: o\n                });\n              });\n            }), this.props.audioFile && this._loadAudio(this.props.audioFile, this.props.audioPeaks), this.props.mediaElt && this._loadMediaElt(this.props.mediaElt, this.props.audioPeaks), this.props.responsive && window.addEventListener(\"resize\", this._handleResize, !1);\n          }\n        }, {\n          key: \"componentWillReceiveProps\",\n          value: function (e) {\n            var o = this,\n                t = !1,\n                r = void 0;\n            this.props.audioFile !== e.audioFile && (this.setState({\n              isReady: !1\n            }), this._loadAudio(e.audioFile, e.audioPeaks), t = !0), this.props.mediaElt !== e.mediaElt && (this.setState({\n              isReady: !1\n            }), this._loadMediaElt(e.mediaElt, e.audioPeaks), t = !0), this.props.audioPeaks !== e.audioPeaks && (e.mediaElt ? this._loadMediaElt(e.mediaElt, e.audioPeaks) : this._loadAudio(e.audioFile, e.audioPeaks)), void 0 !== e.pos && this.state.isReady && e.pos !== this.props.pos && e.pos !== this.state.pos && (t ? r = this._wavesurfer.on(\"ready\", function () {\n              o._seekTo(e.pos), r.un();\n            }) : this._seekTo(e.pos)), t || this.props.playing === e.playing && this._wavesurfer.isPlaying() === e.playing || (e.playing ? this._wavesurfer.play() : this._wavesurfer.pause()), this.props.volume !== e.volume && this._wavesurfer.setVolume(e.volume), this.props.zoom !== e.zoom && this._wavesurfer.zoom(e.zoom), this.props.options.audioRate !== e.options.audioRate && this._wavesurfer.setPlaybackRate(e.options.audioRate), e.responsive && this.props.responsive !== e.responsive && window.addEventListener(\"resize\", this._handleResize, !1), e.responsive || this.props.responsive === e.responsive || window.removeEventListener(\"resize\", this._handleResize);\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function () {\n            var e = this;\n            w.forEach(function (o) {\n              e._wavesurfer.un(o);\n            }), this._wavesurfer.destroy(), this.props.responsive && window.removeEventListener(\"resize\", this._handleResize);\n          }\n        }, {\n          key: \"_secToPos\",\n          value: function (e) {\n            return 1 / this._wavesurfer.getDuration() * e;\n          }\n        }, {\n          key: \"_posToSec\",\n          value: function (e) {\n            return e * this._wavesurfer.getDuration();\n          }\n        }, {\n          key: \"_seekTo\",\n          value: function (e) {\n            var o = this._secToPos(e);\n\n            this.props.options.autoCenter ? this._wavesurfer.seekAndCenter(o) : this._wavesurfer.seekTo(o);\n          }\n        }, {\n          key: \"_loadMediaElt\",\n          value: function (e, o) {\n            if (e instanceof window.HTMLElement) this._loadAudio(e, o);else {\n              if (!window.document.querySelector(e)) throw new Error(\"Media Element not found!\");\n\n              this._loadAudio(window.document.querySelector(e), o);\n            }\n          }\n        }, {\n          key: \"_loadAudio\",\n          value: function (e, o) {\n            if (e instanceof window.HTMLElement) this._wavesurfer.loadMediaElement(e, o);else if (\"string\" == typeof e) this._wavesurfer.load(e, o);else {\n              if (!(e instanceof window.Blob || e instanceof window.File)) throw new Error(\"Wavesurfer._loadAudio expects prop audioFile\\n        to be either HTMLElement, string or file/blob\");\n\n              this._wavesurfer.loadBlob(e, o);\n            }\n          }\n        }, {\n          key: \"render\",\n          value: function () {\n            var e = this,\n                o = !!this.props.children && d.default.Children.map(this.props.children, function (o) {\n              return d.default.cloneElement(o, {\n                wavesurfer: e._wavesurfer,\n                isReady: e.state.isReady\n              });\n            });\n            return d.default.createElement(\"div\", null, d.default.createElement(\"div\", {\n              ref: function (o) {\n                e.wavesurferEl = o;\n              }\n            }), o);\n          }\n        }]), t;\n      }(f.Component);\n\n      b.propTypes = {\n        playing: v.default.bool,\n        pos: v.default.number,\n        audioFile: function (e, o, t) {\n          var r = e[o];\n          return !r || \"string\" == typeof r || r instanceof window.Blob || r instanceof window.File ? null : new Error(\"Invalid \" + o + \" supplied to \" + t + \"\\n        expected either string or file/blob\");\n        },\n        mediaElt: v.default.oneOfType([v.default.string, v.default.instanceOf(window.HTMLElement)]),\n        audioPeaks: v.default.array,\n        volume: v.default.number,\n        zoom: v.default.number,\n        responsive: v.default.bool,\n        onPosChange: v.default.func,\n        children: v.default.oneOfType([v.default.element, v.default.array]),\n        options: v.default.shape({\n          audioRate: v.default.number,\n          backend: v.default.oneOf([\"WebAudio\", \"MediaElement\"]),\n          barWidth: function (e, o, t) {\n            var r = e[o];\n            return void 0 !== r && \"number\" != typeof r ? new Error(\"Invalid \" + o + \" supplied to \" + t + \"\\n          expected either undefined or number\") : null;\n          },\n          cursorColor: v.default.string,\n          cursorWidth: u,\n          dragSelection: v.default.bool,\n          fillParent: v.default.bool,\n          height: u,\n          hideScrollbar: v.default.bool,\n          interact: v.default.bool,\n          loopSelection: v.default.bool,\n          mediaControls: v.default.bool,\n          minPxPerSec: u,\n          normalize: v.default.bool,\n          pixelRatio: v.default.number,\n          progressColor: v.default.string,\n          scrollParent: v.default.bool,\n          skipLength: v.default.number,\n          waveColor: v.default.oneOfType([v.default.string, v.default.instanceOf(window.CanvasGradient)]),\n          autoCenter: v.default.bool\n        })\n      }, b.defaultProps = {\n        playing: !1,\n        pos: 0,\n        options: e.defaultParams,\n        responsive: !0,\n        onPosChange: function () {}\n      }, o.default = b;\n    }).call(o, t(1));\n  }, function (o, t) {\n    o.exports = e;\n  }, function (e, t) {\n    e.exports = o;\n  }, function (e, o) {\n    e.exports = t;\n  }, function (e, o, t) {\n    \"use strict\";\n\n    function r(e) {\n      if (null === e || void 0 === e) throw new TypeError(\"Sources cannot be null or undefined\");\n      return Object(e);\n    }\n\n    function n(e, o, t) {\n      var r = o[t];\n\n      if (void 0 !== r && null !== r) {\n        if (a.call(e, t) && (void 0 === e[t] || null === e[t])) throw new TypeError(\"Cannot convert undefined or null to object (\" + t + \")\");\n        a.call(e, t) && s(r) ? e[t] = i(Object(e[t]), o[t]) : e[t] = r;\n      }\n    }\n\n    function i(e, o) {\n      if (e === o) return e;\n      o = Object(o);\n\n      for (var t in o) a.call(o, t) && n(e, o, t);\n\n      if (Object.getOwnPropertySymbols) for (var r = Object.getOwnPropertySymbols(o), i = 0; i < r.length; i++) u.call(o, r[i]) && n(e, o, r[i]);\n      return e;\n    }\n\n    var s = t(5),\n        a = Object.prototype.hasOwnProperty,\n        u = Object.prototype.propertyIsEnumerable;\n\n    e.exports = function (e) {\n      e = r(e);\n\n      for (var o = 1; o < arguments.length; o++) i(e, arguments[o]);\n\n      return e;\n    };\n  }, function (e, o, t) {\n    \"use strict\";\n\n    e.exports = function (e) {\n      var o = typeof e;\n      return null !== e && (\"object\" === o || \"function\" === o);\n    };\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}